(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb1d076a"],{"20b1":function(t,e,a){},c74b:function(t,e,a){"use strict";a("96cf");var n=a("3b8d"),r=a("bc3a"),o=a.n(r),c=a("2919");e["a"]={getLocaisIndex:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",o()({method:"get",url:"".concat(c["a"],"/locals?page=").concat(e.skip,"&limit=").concat(e.take),responseType:"json",params:e,data:{}}).then(function(t){var e=t.data,a=0;return a=_.has(e,"pagination")?e.pagination.total:e.total,{data:e.data,totalCount:a}}).catch(function(t){return{data:[],totalCount:0}}));case 4:return t.prev=4,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return",t.t0);case 8:case"end":return t.stop()}},t,null,[[0,4]])}));function e(e){return t.apply(this,arguments)}return e}(),getLocais:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("".concat(c["a"],"/locals/").concat(e));case 3:return a=t.sent,n=a.data,n.tel_com=null===n.tel_com?"":n.tel_com,n.tel_com2=null===n.tel_com2?"":n.tel_com2,n.tel_celular=null===n.tel_celular?"":n.tel_celular,n.tel_celular2=null===n.tel_celular2?"":n.tel_celular2,n.logradouro=null===n.logradouro?"":n.logradouro,n.compl=null===n.compl?"":n.compl,n.bairro=null===n.bairro?"":n.bairro,n.cidade=null===n.cidade?"":n.cidade,n.estado=null===n.estado?"":n.estado,n.cep=null===n.cep?"":n.cep,t.abrupt("return",n);case 18:return t.prev=18,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return",t.t0);case 22:case"end":return t.stop()}},t,null,[[0,18]])}));function e(e){return t.apply(this,arguments)}return e}(),updateLocal:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.put("".concat(c["a"],"/locals/").concat(e.id),e);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t["catch"](0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,7]])}));function e(e){return t.apply(this,arguments)}return e}(),addLocal:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("".concat(c["a"],"/locals"),e);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t["catch"](0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,7]])}));function e(e){return t.apply(this,arguments)}return e}(),deleteLocal:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.delete("".concat(c["a"],"/locals/").concat(e));case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t["catch"](0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,7]])}));function e(e){return t.apply(this,arguments)}return e}()}},d260:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"content-block"},[t._v("Localizar Locais")]),a("div",{staticClass:"content-block",attrs:{id:"bloco1"}},[a("div",{staticClass:"dx-card responsive-paddings"},[a("div",{staticClass:"left-side"},[a("div",{staticClass:"dx-field-label",staticStyle:{width:"90px"}},[t._v("INFORME:")]),a("dx-select-box",{attrs:{"data-source":t.fields,value:t.fields[0].key,"value-expr":"key","display-expr":"text"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),a("dx-text-box",{staticStyle:{"margin-left":"6px"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("dx-button",{staticStyle:{"margin-left":"6px"},attrs:{text:"Localizar"},on:{click:t.onLocalizar}})],1),a("div",{staticClass:"right-add"},[a("dx-button",{attrs:{"styling-mode":"outlined",icon:"add",text:"adicionar"},on:{click:function(e){return t.onAdd()}}})],1),a("dx-data-grid",{staticStyle:{"margin-top":"15px"},attrs:{"data-source":t.dataSource,selection:{mode:"single"},"hover-state-enabled":!0,"remote-operations":t.remoteOperations,paging:t.paging,pager:t.pager,"key-expr":"id","show-borders":!0}},[a("dx-filter-row",{attrs:{visible:!1,"apply-filter":"auto"}}),a("dx-column",{attrs:{caption:"Ações",width:110,buttons:t.editButtons,type:"buttons"}}),a("dx-column",{attrs:{caption:"Nome","data-field":"nome"}}),a("dx-column",{attrs:{caption:"Contato","data-field":"contato"}}),a("dx-column",{attrs:{caption:"Email","data-field":"email"}}),a("dx-column",{attrs:{caption:"Status","data-field":"status"}})],1)],1)])])},r=[],o=(a("ac6a"),a("55dd"),a("bc3a"),a("2919")),c=a("5c5d"),i=a("d30a"),l=a("2597"),s=a.n(l),u=a("5097"),d=a.n(u),p=a("c74b"),f=a("a719"),x=a.n(f),m=a("5d4a"),h=a("9fc8"),v=new d.a({store:new s.a({key:"id",load:function(t){var e={};e.take=t.take,0===t.skip?e.skip=1:e.skip=t.skip/t.take+1;var a={isLocalizar:!0};if(t.localizar){var n=t.localizar.key,r=t.localizar.value;r&&(a[n]=r)}else t.localizar=null;return _.isArray(t.sort)&&(a["sortSelector"]=t.sort[0].selector,a["sortDirection"]=t.sort[0].desc?"DESC":"ASC"),_.has(t,"start")||(a.nome="xxx"),a.skip=e.skip,a.take=e.take,p["a"].getLocaisIndex(a)}})});window.ds=v;var g={components:{DxDataGrid:i["DxDataGrid"],DxColumn:i["DxColumn"],DxFilterRow:i["DxFilterRow"],DxEditing:i["DxEditing"],DxPaging:i["DxPaging"],DxPager:i["DxPager"],DxSearchPanel:i["DxSearchPanel"],DxSelectBox:h["DxSelectBox"],DxButton:h["DxButton"],DxTextBox:h["DxTextBox"]},created:function(){},data:function(){return{pattern:/^\(\d{3}\) \d{3}-\d{2}$/i,locals:[{id:1,nome:"Ivan",apelido:"Ivanzim"},{id:2,nome:"Carlos",apelido:"Carlim"}],fields:[{key:"nome",text:"NOME"},{key:"status",text:"STATUS"}],editButtons:[{hint:"Editar",icon:"edit",visible:this.btnEditar,onClick:this.onEditClick},{hint:"Excluir",icon:"trash",visible:!0,onClick:this.onDeleteClick}],dataSource:v,remoteOperations:{sorting:!0,paging:!0},paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[5,10,15,20],showInfo:!0},key:"nome",value:"",start:!1}},methods:{formatMessage:m["formatMessage"],onAdd:function(){this.$router.push({name:"local",params:{}})},onLocalizar:function(){var t=this.key,e=this.value;this.dataSource.loadOptions()["localizar"]={key:t,value:e},this.dataSource.loadOptions()["start"]=!0,this.dataSource.reload()},onEditClick:function(t){var e=t.row.data.id;this.$router.push({name:"local",params:{id:e}})},onDeleteClick:function(t){this.$nextTick(function(){var e=this,a=Object(c["confirm"])("<div style='margin-left:15px!important;margin-right:15px!important;'><i>Confirma exclusão do Local selecionado?</i></div>","Confirmação");a.then(function(a){if(!a)return!1;var n=t.row.data.id;Object(o["c"])(),p["a"].deleteLocal(n).then(function(t){Object(o["c"])(),e.dataSource.reload();var a="Excluído com sucesso",n={at:"center center",of:"#bloco1"};x()({message:a,position:n,width:300,shading:!0},"success",2e3)}).catch(function(t){if(Object(o["c"])(),_.isArray(t))t.forEach(function(t){var e={at:"center center",of:"#bloco1"};x()({message:t.message,position:e,width:300,shading:!0},"error",4e3)});else{var e={at:"center center",of:"#bloco1"};x()({message:t,position:e,width:300,shading:!0},"error",4e3)}})})})},optionChanged:function(t){console.log("optionChanged= ",t)}}},b=g,k=(a("f7d1"),a("2877")),w=Object(k["a"])(b,n,r,!1,null,"11fbd62a",null);e["default"]=w.exports},f7d1:function(t,e,a){"use strict";var n=a("20b1"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-fb1d076a.84d5e3d0.js.map