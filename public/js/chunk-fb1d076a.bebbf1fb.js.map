{"version":3,"sources":["webpack:///./src/services/Local.js","webpack:///./src/views/local/locais.vue?569d","webpack:///src/views/local/locais.vue","webpack:///./src/views/local/locais.vue?7de7","webpack:///./src/views/local/locais.vue?9761","webpack:///./src/views/local/locais.vue?4bf8"],"names":["__webpack_exports__","getLocaisIndex","_getLocaisIndex","Object","D_Users_ivan_devextreme_app_koi_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","regeneratorRuntime","mark","_callee","payload","wrap","_context","prev","next","abrupt","axios","method","url","concat","baseApiUrl","skip","take","responseType","params","data","then","res","totalCount","_","has","pagination","total","catch","e","t0","console","error","stop","_x","apply","this","arguments","getLocais","_getLocais","_callee2","ID","response","_context2","get","sent","tel_com","tel_com2","tel_celular","tel_celular2","logradouro","compl","bairro","cidade","estado","cep","_x2","updateLocal","_updateLocal","_callee3","_context3","put","id","_x3","addLocal","_addLocal","_callee4","_context4","post","_x4","deleteLocal","_deleteLocal","_callee5","_context5","delete","_x5","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","staticStyle","width","data-source","fields","value","key","value-expr","display-expr","model","callback","$$v","expression","margin-left","text","on","click","onLocalizar","styling-mode","icon","$event","onAdd","margin-top","dataSource","selection","mode","hover-state-enabled","remote-operations","remoteOperations","paging","pager","key-expr","show-borders","visible","apply-filter","caption","buttons","editButtons","type","data-field","staticRenderFns","data_source_default","a","store","custom_store_default","load","loadOptions","o","isLocalizar","localizar","isArray","sort","selector","desc","nome","Local","window","ds","locaisvue_type_script_lang_js_","components","DxDataGrid","data_grid","DxColumn","DxFilterRow","DxEditing","DxPaging","DxPager","DxSearchPanel","DxSelectBox","devextreme_vue","DxButton","DxTextBox","created","pattern","locals","apelido","hint","btnEditar","onClick","onEditClick","onDeleteClick","sorting","pageSize","showPageSizeSelector","allowedPageSizes","showInfo","start","methods","formatMessage","localization","$router","push","name","reload","item","row","$nextTick","_this","result","dialog","dialogResult","global","message","position","at","of","notify_default","shading","forEach","i","optionChanged","log","local_locaisvue_type_script_lang_js_","component","componentNormalizer","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_locais_vue_vue_type_style_index_0_id_11fbd62a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_locais_vue_vue_type_style_index_0_id_11fbd62a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-fb1d076a.bebbf1fb.js","sourcesContent":["//import { userKey } from \"@/global\";\r\n//import store from \"../src/services/store\";\r\nimport axios from \"axios\";\r\nimport { baseApiUrl } from \"@/global\";\r\n\r\n//import notify from \"devextreme/ui/notify\";\r\n\r\nexport default {\r\n  async getLocaisIndex(payload) {\r\n    try {\r\n      return axios({\r\n        method: \"get\",\r\n        url: `${baseApiUrl}/locals?page=${payload.skip}&limit=${payload.take}`,\r\n        responseType: \"json\",\r\n        params: payload,\r\n        data: {}\r\n      })\r\n        .then(res => {\r\n          let data = res.data;\r\n          let totalCount = 0;\r\n          if (_.has(data, \"pagination\")) {\r\n            totalCount = data.pagination.total;\r\n          } else {\r\n            totalCount = data.total;\r\n          }\r\n          return {\r\n            data: data.data,\r\n            totalCount\r\n          };\r\n        })\r\n        .catch(e => {\r\n          return {\r\n            data: [],\r\n            totalCount: 0\r\n          };\r\n        });\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n      return error;\r\n    }\r\n  },\r\n\r\n  async getLocais(ID) {\r\n    try {\r\n      const response = await axios.get(`${baseApiUrl}/locals/${ID}`);\r\n\r\n      let data = response.data;\r\n\r\n      data.tel_com = data.tel_com === null ? \"\" : data.tel_com;\r\n      data.tel_com2 = data.tel_com2 === null ? \"\" : data.tel_com2;\r\n      data.tel_celular = data.tel_celular === null ? \"\" : data.tel_celular;\r\n      data.tel_celular2 = data.tel_celular2 === null ? \"\" : data.tel_celular2;\r\n\r\n      data.logradouro = data.logradouro === null ? \"\" : data.logradouro;\r\n      data.compl = data.compl === null ? \"\" : data.compl;\r\n      data.bairro = data.bairro === null ? \"\" : data.bairro;\r\n      data.cidade = data.cidade === null ? \"\" : data.cidade;\r\n      data.estado = data.estado === null ? \"\" : data.estado;\r\n      data.cep = data.cep === null ? \"\" : data.cep;\r\n\r\n      return data;\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n      return error;\r\n    }\r\n  },\r\n\r\n  async updateLocal(payload) {\r\n    try {\r\n      const response = await axios.put(\r\n        `${baseApiUrl}/locals/${payload.id}`,\r\n        payload\r\n      );\r\n\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async addLocal(payload) {\r\n    try {\r\n      const response = await axios.post(`${baseApiUrl}/locals`, payload);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async deleteLocal(ID) {\r\n    try {\r\n      const response = await axios.delete(`${baseApiUrl}/locals/${ID}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"content-block\"},[_vm._v(\"Localizar Locais\")]),_c('div',{staticClass:\"content-block\",attrs:{\"id\":\"bloco1\"}},[_c('div',{staticClass:\"dx-card responsive-paddings\"},[_c('div',{staticClass:\"left-side\"},[_c('div',{staticClass:\"dx-field-label\",staticStyle:{\"width\":\"90px\"}},[_vm._v(\"INFORME:\")]),_c('dx-select-box',{attrs:{\"data-source\":_vm.fields,\"value\":_vm.fields[0].key,\"value-expr\":\"key\",\"display-expr\":\"text\"},model:{value:(_vm.key),callback:function ($$v) {_vm.key=$$v},expression:\"key\"}}),_c('dx-text-box',{staticStyle:{\"margin-left\":\"6px\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('dx-button',{staticStyle:{\"margin-left\":\"6px\"},attrs:{\"text\":\"Localizar\"},on:{\"click\":_vm.onLocalizar}})],1),_c('div',{staticClass:\"right-add\"},[_c('dx-button',{attrs:{\"styling-mode\":\"outlined\",\"icon\":\"add\",\"text\":\"adicionar\"},on:{\"click\":function($event){return _vm.onAdd()}}})],1),_c('dx-data-grid',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"data-source\":_vm.dataSource,\"selection\":{ mode: 'single' },\"hover-state-enabled\":true,\"remote-operations\":_vm.remoteOperations,\"paging\":_vm.paging,\"pager\":_vm.pager,\"key-expr\":\"id\",\"show-borders\":true}},[_c('dx-filter-row',{attrs:{\"visible\":false,\"apply-filter\":\"auto\"}}),_c('dx-column',{attrs:{\"caption\":\"Ações\",\"width\":110,\"buttons\":_vm.editButtons,\"type\":\"buttons\"}}),_c('dx-column',{attrs:{\"caption\":\"Nome\",\"data-field\":\"nome\"}}),_c('dx-column',{attrs:{\"caption\":\"Contato\",\"data-field\":\"contato\"}}),_c('dx-column',{attrs:{\"caption\":\"Email\",\"data-field\":\"email\"}}),_c('dx-column',{attrs:{\"caption\":\"Status\",\"data-field\":\"status\"}})],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2 class=\"content-block\">Localizar Locais</h2>\r\n\r\n    <div class=\"content-block\" id=\"bloco1\">\r\n      <div class=\"dx-card responsive-paddings\">\r\n        <div class=\"left-side\">\r\n          <div class=\"dx-field-label\" style=\"width:90px;\">INFORME:</div>\r\n          <dx-select-box\r\n            :data-source=\"fields\"\r\n            :value=\"fields[0].key\"\r\n            value-expr=\"key\"\r\n            display-expr=\"text\"\r\n            v-model=\"key\"\r\n          />\r\n          <dx-text-box v-model=\"value\" style=\"margin-left:6px;\" />\r\n          <dx-button text=\"Localizar\" @click=\"onLocalizar\" style=\"margin-left:6px;\" />\r\n        </div>\r\n\r\n        <div class=\"right-add\">\r\n          <dx-button styling-mode=\"outlined\" @click=\"onAdd()\" icon=\"add\" text=\"adicionar\" />\r\n        </div>\r\n\r\n        <dx-data-grid\r\n          :data-source=\"dataSource\"\r\n          :selection=\"{ mode: 'single' }\"\r\n          :hover-state-enabled=\"true\"\r\n          :remote-operations=\"remoteOperations\"\r\n          :paging=\"paging\"\r\n          :pager=\"pager\"\r\n          key-expr=\"id\"\r\n          style=\"margin-top:15px;\"\r\n          :show-borders=\"true\"\r\n        >\r\n          <!--<dx-paging :page-size=\"page\"/>\r\n            <dx-pager :show-page-size-selector=\"true\" :allowed-page-sizes=\"pageSizes\" :show-info=\"true\"/>\r\n          <dx-editing :allow-updating=\"true\" :popup=\"{width:700, height:345}\" mode=\"popup\"/>-->\r\n          <dx-filter-row :visible=\"false\" apply-filter=\"auto\" />\r\n\r\n          <!--<dx-column\r\n            :activeStateEnabled=\"false\"\r\n            :width=\"110\"\r\n            :allow-sorting=\"false\"\r\n            data-field=\"Ações\"\r\n            cell-template=\"cellTemplate\"\r\n            :allowEditing=\"false\"\r\n          />-->\r\n\r\n          <dx-column caption=\"Ações\" :width=\"110\" :buttons=\"editButtons\" type=\"buttons\" />\r\n\r\n          <dx-column caption=\"Nome\" data-field=\"nome\" />\r\n          <dx-column caption=\"Contato\" data-field=\"contato\" />\r\n          <dx-column caption=\"Email\" data-field=\"email\" />\r\n          <dx-column caption=\"Status\" data-field=\"status\" />\r\n\r\n          <!--<div slot=\"cellTemplate\" slot-scope=\"data\">\r\n            <dx-button styling-mode=\"outlined\" @click=\"onEditClick(data)\" icon=\"edit\"/>\r\n            <dx-button\r\n              type=\"normal\"\r\n              text\r\n              @click=\"onDeleteClick(data)\"\r\n              icon=\"trash\"\r\n              style=\"margin-left:10px;\"\r\n            />\r\n          </div>-->\r\n        </dx-data-grid>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { userKey, baseApiUrl, loading } from \"@/global\";\r\nimport { confirm } from \"devextreme/ui/dialog\";\r\n\r\nimport {\r\n  DxDataGrid,\r\n  DxColumn,\r\n  DxEditing,\r\n  DxFilterRow,\r\n  DxPager,\r\n  DxPaging,\r\n  DxSearchPanel\r\n} from \"devextreme-vue/data-grid\";\r\n\r\nimport CustomStore from \"devextreme/data/custom_store\";\r\nimport DataSource from \"devextreme/data/data_source\";\r\n\r\nimport Service from \"../../services/Local\";\r\nimport notify from \"devextreme/ui/notify\";\r\n\r\nimport { locale, loadMessages, formatMessage } from \"devextreme/localization\";\r\n\r\nimport { DxSelectBox } from \"devextreme-vue\";\r\nimport { DxButton, DxTextBox } from \"devextreme-vue\";\r\n\r\nconst dataSource = new DataSource({\r\n  store: new CustomStore({\r\n    key: \"id\",\r\n\r\n    load: function(loadOptions) {\r\n      let params = {};\r\n      params.take = loadOptions.take;\r\n      if (loadOptions.skip === 0) {\r\n        params.skip = 1;\r\n      } else {\r\n        params.skip = loadOptions.skip / loadOptions.take + 1;\r\n      }\r\n\r\n      let o = { isLocalizar: true };\r\n\r\n      if (!loadOptions.localizar) {\r\n        loadOptions.localizar = null;\r\n      } else {\r\n        let key = loadOptions.localizar.key;\r\n        let value = loadOptions.localizar.value;\r\n        if (value) {\r\n          o[key] = value;\r\n        }\r\n      }\r\n\r\n      let sort = null;\r\n\r\n      if (_.isArray(loadOptions.sort)) {\r\n        o[\"sortSelector\"] = loadOptions.sort[0].selector;\r\n        o[\"sortDirection\"] = loadOptions.sort[0].desc ? \"DESC\" : \"ASC\";\r\n      }\r\n\r\n      if (!_.has(loadOptions, \"start\")) {\r\n        o.nome = \"xxx\";\r\n      }\r\n\r\n      o.skip = params.skip;\r\n      o.take = params.take;\r\n\r\n      return Service.getLocaisIndex(o);\r\n    }\r\n  })\r\n});\r\n\r\nwindow.ds = dataSource;\r\n\r\nexport default {\r\n  components: {\r\n    DxDataGrid,\r\n    DxColumn,\r\n    DxFilterRow,\r\n    DxEditing,\r\n    DxPaging,\r\n    DxPager,\r\n    DxSearchPanel,\r\n    DxSelectBox,\r\n    DxButton,\r\n    DxTextBox\r\n  },\r\n\r\n  created() {},\r\n\r\n  data() {\r\n    return {\r\n      pattern: /^\\(\\d{3}\\) \\d{3}-\\d{2}$/i,\r\n      locals: [\r\n        { id: 1, nome: \"Ivan\", apelido: \"Ivanzim\" },\r\n        { id: 2, nome: \"Carlos\", apelido: \"Carlim\" }\r\n      ],\r\n      fields: [\r\n        { key: \"nome\", text: \"NOME\" },\r\n        { key: \"status\", text: \"STATUS\" }\r\n      ],\r\n      editButtons: [\r\n        {\r\n          hint: \"Editar\",\r\n          icon: \"edit\",\r\n          visible: this.btnEditar,\r\n          onClick: this.onEditClick\r\n        },\r\n        {\r\n          hint: \"Excluir\",\r\n          icon: \"trash\",\r\n          visible: true,\r\n          onClick: this.onDeleteClick\r\n        }\r\n      ],\r\n      dataSource: dataSource,\r\n      remoteOperations: {\r\n        sorting: true,\r\n        paging: true\r\n      },\r\n      paging: {\r\n        pageSize: 10\r\n      },\r\n      pager: {\r\n        showPageSizeSelector: true,\r\n        allowedPageSizes: [5, 10, 15, 20],\r\n        showInfo: true\r\n      },\r\n      key: \"nome\",\r\n      value: \"\",\r\n      start: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    formatMessage: formatMessage,\r\n\r\n    onAdd() {\r\n      this.$router.push({ name: \"local\", params: {} });\r\n    },\r\n\r\n    onLocalizar() {\r\n      let key = this.key;\r\n      let value = this.value;\r\n      this.dataSource.loadOptions()[\"localizar\"] = { key, value };\r\n      this.dataSource.loadOptions()[\"start\"] = true;\r\n      this.dataSource.reload();\r\n    },\r\n\r\n    onEditClick(item) {\r\n      const id = item.row.data.id;\r\n      this.$router.push({ name: \"local\", params: { id } });\r\n    },\r\n\r\n    onDeleteClick(item) {\r\n      this.$nextTick(function() {\r\n        let result = confirm(\r\n          \"<div style='margin-left:15px!important;margin-right:15px!important;'><i>Confirma exclusão do Local selecionado?</i></div>\",\r\n          \"Confirmação\"\r\n        );\r\n        result.then(dialogResult => {\r\n          if (!dialogResult) {\r\n            return false;\r\n          }\r\n\r\n          const id = item.row.data.id;\r\n\r\n          loading();\r\n          Service.deleteLocal(id)\r\n            .then(res => {\r\n              loading();\r\n              this.dataSource.reload();\r\n              const message = \"Excluído com sucesso\";\r\n              const position = {\r\n                at: \"center center\",\r\n                of: \"#bloco1\"\r\n              };\r\n              notify(\r\n                {\r\n                  message: message,\r\n                  position,\r\n                  width: 300,\r\n                  shading: true\r\n                },\r\n                \"success\",\r\n                2000\r\n              );\r\n            })\r\n            .catch(error => {\r\n              loading();\r\n              if (_.isArray(error)) {\r\n                error.forEach(i => {\r\n                  const position = {\r\n                    at: \"center center\",\r\n                    of: \"#bloco1\"\r\n                  };\r\n                  notify(\r\n                    {\r\n                      message: i.message,\r\n                      position,\r\n                      width: 300,\r\n                      shading: true\r\n                    },\r\n                    \"error\",\r\n                    4000\r\n                  );\r\n                });\r\n              } else {\r\n                const position = {\r\n                  at: \"center center\",\r\n                  of: \"#bloco1\"\r\n                };\r\n                notify(\r\n                  {\r\n                    message: error,\r\n                    position,\r\n                    width: 300,\r\n                    shading: true\r\n                  },\r\n                  \"error\",\r\n                  4000\r\n                );\r\n              }\r\n            });\r\n        });\r\n      });\r\n    },\r\n\r\n    optionChanged(e) {\r\n      console.log(\"optionChanged= \", e);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.long-title h3 {\r\n  font-family: \"Segoe UI Light\", \"Helvetica Neue Light\", \"Segoe UI\",\r\n    \"Helvetica Neue\", \"Trebuchet MS\", Verdana;\r\n  font-weight: 200;\r\n  font-size: 25px;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.right-side {\r\n  position: absolute;\r\n  right: 1px;\r\n  top: 6px;\r\n}\r\n\r\n.right-add {\r\n  position: absolute;\r\n  right: 15px;\r\n  top: 12px;\r\n}\r\n\r\n.left-side {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./locais.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./locais.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./locais.vue?vue&type=template&id=11fbd62a&scoped=true&\"\nimport script from \"./locais.vue?vue&type=script&lang=js&\"\nexport * from \"./locais.vue?vue&type=script&lang=js&\"\nimport style0 from \"./locais.vue?vue&type=style&index=0&id=11fbd62a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11fbd62a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./locais.vue?vue&type=style&index=0&id=11fbd62a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./locais.vue?vue&type=style&index=0&id=11fbd62a&scoped=true&lang=css&\""],"sourceRoot":""}