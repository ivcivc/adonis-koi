(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3731c85f"],{3729:function(t,e,o){},"7ce2":function(t,e,o){"use strict";var a=o("3729"),r=o.n(a);r.a},"8f5c":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",{staticClass:"content-block"},[t._v(t._s(t.titulo))]),t.id?o("div",{staticClass:"right-id"},[t._v("ID # "+t._s(t.id))]):t._e(),o("div",{staticClass:"content-block",attrs:{id:"bloco1"}},[o("div",{staticClass:"dx-card responsive-paddings"},[o("div",{attrs:{id:"form-container"}},[o("form",{ref:"form",attrs:{action:"your-action"},on:{submit:function(e){return t.handleSubmit(e)}}},[o("dx-form",{attrs:{id:"form","read-only":!1,"form-data":t.treinamento,"show-validation-summary":!0,"show-colon-after-label":!0,"validation-group":"customerData","on-content-ready":t.validateForm},on:{"update:formData":function(e){t.treinamento=e},"update:form-data":function(e){t.treinamento=e}}},[o("dx-group-item",[o("dx-simple-item",{attrs:{"data-field":"nome"}},[o("dx-required-rule",{attrs:{message:"Informe o nome do treinamento"}})],1),o("dx-simple-item",{attrs:{"data-field":"valorBaseAVista","editor-type":"dxNumberBox",editorOptions:t.optionFormatoMoeda}},[o("dx-label",{attrs:{text:"Valor à vista"}}),o("dx-required-rule",{attrs:{message:"Informe o valor do treinamento à vista"}}),o("dx-compare-rule",{attrs:{"comparison-target":t.valorAVistaComparison,message:"Valor à vista não permitido."}})],1),o("dx-simple-item",{attrs:{"data-field":"valor","editor-type":"dxNumberBox",editorOptions:t.optionFormatoMoeda}},[o("dx-label",{attrs:{text:"Valor à prazo"}}),o("dx-required-rule",{attrs:{message:"Informe o valor do treinamento à prazo"}}),o("dx-compare-rule",{attrs:{"comparison-target":t.valorComparison,message:"Valor à prazo não permitido"}})],1),o("dx-simple-item",{attrs:{"editor-options":t.statusEditorOptions,"data-field":"status","editor-type":"dxSelectBox"}},[o("dx-required-rule",{attrs:{message:"Informe o status"}})],1)],1)],1)],1),o("div",{staticStyle:{float:"left","margin-top":"20px"}},[o("dx-button",{staticStyle:{"margin-right":"10px"},attrs:{text:"Gravar",type:"success"},on:{click:t.gravar}}),o("dx-button",{attrs:{text:"Cancelar"},on:{click:t.cancelar}})],1)])])])])},r=[],n=(o("ac6a"),o("2919")),i=o("9fc8"),s=o("66dc"),c=o.n(s),l=(o("b8f5"),o("656d")),d=o("a719"),m=o.n(d),u=(o("1c46"),{components:{DxButton:i["DxButton"],DxGroupItem:s["DxGroupItem"],DxSimpleItem:s["DxSimpleItem"],DxButtonItem:s["DxButtonItem"],DxLabel:s["DxLabel"],DxRequiredRule:s["DxRequiredRule"],DxCompareRule:s["DxCompareRule"],DxPatternRule:s["DxPatternRule"],DxRangeRule:s["DxRangeRule"],DxEmailRule:s["DxEmailRule"],DxStringLengthRule:s["DxStringLengthRule"],DxForm:c.a,notify:m.a},props:["id"],beforeRouteEnter:function(t,e,o){Object(n["c"])();var a=t.params.id;if(!a)return Object(n["c"])(),o();l["a"].getTreinamento(a).then(function(t){o(function(e){return e.treinamento=t,!0}),Object(n["c"])()}).catch(function(t){Object(n["c"])(),o(!1)})},data:function(){var t=this,e=["ATIVO","INATIVO"];return{titulo:"Cadastro de Treinamento",treinamento:{},statusEditorOptions:{dataSource:e},optionFormatoMoeda:{format:"R$ #,##0.##"},valorComparison:function(e){var o=0;return void 0!==t.treinamento.valor&&(o=parseFloat(t.treinamento.valor),o>0?o:-1+o)},valorAVistaComparison:function(e){var o=0;return void 0!==t.treinamento.valorBaseAVista&&(o=parseFloat(t.treinamento.valorBaseAVista),o>0?o:-1+o)}}},methods:{handleSubmit:function(t){t.preventDefault(),console.log(t)},validateForm:function(t){console.log("validateForm"),this.formValidation=t;t.component.validate()},gravar:function(){var t=this;console.log("gravar..");var e=this.formValidation.component.validate().isValid;if(e){Object(n["c"])();var o=_.cloneDeep(this.treinamento);console.log("gravar ",o),_.has(o,"id")?l["a"].updateTreinamento(o).then(function(e){Object(n["c"])();var o="Gravado com sucesso",a={at:"center center",of:"#bloco1"};m()({message:o,position:a,width:300,shading:!0},"success",1e3),t.cancelar()}).catch(function(t){if(Object(n["c"])(),_.isArray(t))t.forEach(function(t){var e={at:"center center",of:"#bloco1"};m()({message:t.message,position:e,width:300,shading:!0},"error",4e3)});else{var e={at:"center center",of:"#bloco1"};m()({message:t,position:e,width:300,shading:!0},"error",4e3)}}):l["a"].addTreinamento(o).then(function(e){console.log(e),Object(n["c"])();var o="Gravado com sucesso",a={at:"center center",of:"#bloco1"};m()({message:o,position:a,width:300,shading:!0},"success",1e3),t.cancelar()}).catch(function(t){if(Object(n["c"])(),_.isArray(t))t.forEach(function(t){var e={at:"center center",of:"#bloco1"};m()({message:t.message,position:e,width:300,shading:!0},"error",4e3)});else{var e={at:"center center",of:"#bloco1"};m()({message:t,position:e,width:300,shading:!0},"error",4e3)}})}else console.log("não validado")},cancelar:function(){this.$router.push({name:"treinamentos"})}}}),f=u,p=(o("7ce2"),o("2877")),v=Object(p["a"])(f,a,r,!1,null,"47250fc7",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-3731c85f.ea9eb0e6.js.map