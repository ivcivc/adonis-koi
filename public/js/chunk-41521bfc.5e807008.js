(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41521bfc"],{"0673":function(e,t,a){},"3be3":function(e,t,a){"use strict";var o=a("0673"),r=a.n(o);r.a},a4a1:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticClass:"content-block"},[e._v(e._s(e.titulo))]),e.id?a("div",{staticClass:"right-id"},[e._v("ID # "+e._s(e.id))]):e._e(),a("div",{staticClass:"content-block"},[a("div",{staticClass:"dx-card responsive-paddings"},[a("div",{attrs:{id:"form-container"}},[a("form",{ref:"form",attrs:{action:"your-action",autocomplete:"off"},on:{submit:function(t){return e.handleSubmit(t)}}},[a("dx-form",{attrs:{id:"form","read-only":!1,"col-count":2,"form-data":e.local,"show-validation-summary":!0,"show-colon-after-label":!0,"on-content-ready":e.validateForm},on:{"update:formData":function(t){e.local=t},"update:form-data":function(t){e.local=t}}},[a("dx-item",{attrs:{items:e.groupedItems.dadosPessoais,"item-type":"group",caption:""}}),a("dx-item",{attrs:{items:e.groupedItems.endereco,"item-type":"group",caption:"Endereço"}}),a("dx-item",{attrs:{items:e.groupedItems.info,"item-type":"group",caption:"Anotações","col-span":2}})],1)],1),a("div",{staticStyle:{float:"left","margin-top":"20px"}},[a("dx-button",{staticStyle:{"margin-right":"10px"},attrs:{text:"Gravar",type:"success"},on:{click:e.gravar}}),a("dx-button",{attrs:{text:"Cancelar"},on:{click:e.cancelar}})],1)])])])])},r=[],n=(a("ac6a"),a("bc3a"),a("2919")),c=a("c74b"),i=a("a719"),l=a.n(i),s=a("9fc8"),u=a("66dc"),d=(a("b8f5"),a("0db8")),p={components:{DxForm:u["DxForm"],DxItem:u["DxItem"],DxTagBox:u["DxTagBox"],DxButton:s["DxButton"],DxButtonItem:u["DxButtonItem"],DxValidator:d["DxValidator"],DxRequiredRule:d["DxRequiredRule"],DxCompareRule:d["DxCompareRule"],DxEmailRule:d["DxEmailRule"],DxPatternRule:d["DxPatternRule"],DxStringLengthRule:d["DxStringLengthRule"],DxRangeRule:d["DxRangeRule"]},props:["id"],beforeRouteEnter:function(e,t,a){Object(n["c"])();var o=e.params.id;if(!o)return Object(n["c"])(),a();c["a"].getLocais(o).then(function(e){a(function(t){return t.local=e,!0}),Object(n["c"])()}).catch(function(e){Object(n["c"])(),a(!1)})},data:function(){var e=["ATIVO","INATIVO"];return{titulo:"Cadastro de Locais",local:{},buttonOptions:{text:"Register",type:"success",useSubmitBehavior:!0},validationRules:{situacao:[{type:"required",message:"Informe o status"}],grupos:[{type:"required",message:"Informe o grupo"}],dnasc:[{type:"required",message:"Informe a data de nascimento."}]},groupedItems:{dadosPessoais:[{dataField:"nome",label:{text:"Nome"},validationRules:[{type:"required",message:"Informe o campo nome."},{type:"stringLength",min:3,max:30,message:"O campo nome deve conter pelo menos 3 caracteres"}]},{dataField:"contato",label:{text:"Contato"},validationRules:[{type:"required",message:"Informe o campo contato."},{type:"stringLength",min:3,max:20,message:"O campo contato deve conter de 3 a 20 caracteres"}]},{dataField:"tel_com",editorOptions:{showClearButton:!0,mask:"(00) 0000-0000"},label:{text:"Residencial"}},{dataField:"tel_com2",editorOptions:{showClearButton:!0,mask:"(00) 0000-0000"},label:{text:"Comercial"}},{dataField:"tel_celular",editorOptions:{showClearButton:!0,mask:"(00) 00000-0000"},label:{text:"WhatsApp"}},{dataField:"tel_celular2",editorOptions:{showClearButton:!0,mask:"(00) 00000-0000"},label:{text:"Celular"}},{dataField:"email",label:{text:"Email"},validationRules:[{type:"email",message:"Informe um email válido"}]},{dataField:"status",label:{text:"Status"},cssClass:"cssArea",editorType:"dxSelectBox",editorOptions:{hideSelectedItems:!0,searchEnabled:!0,items:e},validationRules:[{type:"required",message:"Informe a situação."}]}],endereco:[{dataField:"logradouro",label:{text:"Logr."},editorOptions:{autocomplete:"off",activeStateEnabled:!0}},{dataField:"compl",label:{text:"compl."},editorOptions:{spellcheck:!1,autocomplete:"off"}},{dataField:"bairro",label:{text:"Bairro."}},{dataField:"cidade",label:{text:"Cidade"}},{dataField:"estado",label:{text:"Estado"}},{dataField:"cep",label:{text:"Cep"},editorOptions:{showClearButton:!0,mask:"00.000-000"}}],info:[{dataField:"nota",label:{text:"Anotações",visible:!1},editorType:"dxTextArea",editorOptions:{height:135}}]}}},methods:{handleSubmit:function(e){e.preventDefault()},validateForm:function(e){this.formValidation=e;e.component.validate()},gravar:function(){var e=this,t=this.formValidation.component.validate().isValid;if(t){Object(n["c"])();var a=_.cloneDeep(this.local);_.has(a,"id")?c["a"].updateLocal(a).then(function(t){console.log("gravando...."),Object(n["c"])();var a="Gravado com sucesso",o={at:"center center",of:"#bloco1"};l()({message:a,position:o,width:300,shading:!0},"success",1e3),e.cancelar()}).catch(function(e){if(Object(n["c"])(),_.isArray(e))e.forEach(function(e){var t={at:"center center",of:"#bloco1"};l()({message:e.message,position:t,width:300,shading:!0},"error",4e3)});else{var t={at:"center center",of:"#bloco1"};l()({message:e,position:t,width:300,shading:!0},"error",4e3)}}):c["a"].addLocal(a).then(function(t){console.log("gravando...."),Object(n["c"])();var a="Gravado com sucesso",o={at:"center center",of:"#bloco1"};l()({message:a,position:o,width:300,shading:!0},"success",2e3),e.cancelar()}).catch(function(e){if(Object(n["c"])(),_.isArray(e))e.forEach(function(e){var t={at:"center center",of:"#bloco1"};l()({message:e.message,position:t,width:300,shading:!0},"error",4e3)});else{var t={at:"center center",of:"#bloco1"};l()({message:e,position:t,width:300,shading:!0},"error",4e3)}})}else console.log("não validado")},cancelar:function(){this.$router.push({name:"locais"})}}},m=p,f=(a("3be3"),a("2877")),g=Object(f["a"])(m,o,r,!1,null,"362731a7",null);t["default"]=g.exports},c74b:function(e,t,a){"use strict";a("96cf");var o=a("3b8d"),r=a("bc3a"),n=a.n(r),c=a("2919");t["a"]={getLocaisIndex:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",n()({method:"get",url:"".concat(c["a"],"/locals?page=").concat(t.skip,"&limit=").concat(t.take),responseType:"json",params:t,data:{}}).then(function(e){var t=e.data,a=0;return a=_.has(t,"pagination")?t.pagination.total:t.total,{data:t.data,totalCount:a}}).catch(function(e){return{data:[],totalCount:0}}));case 4:return e.prev=4,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,null,[[0,4]])}));function t(t){return e.apply(this,arguments)}return t}(),getLocais:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.a.get("".concat(c["a"],"/locals/").concat(t));case 3:return a=e.sent,o=a.data,o.tel_com=null===o.tel_com?"":o.tel_com,o.tel_com2=null===o.tel_com2?"":o.tel_com2,o.tel_celular=null===o.tel_celular?"":o.tel_celular,o.tel_celular2=null===o.tel_celular2?"":o.tel_celular2,o.logradouro=null===o.logradouro?"":o.logradouro,o.compl=null===o.compl?"":o.compl,o.bairro=null===o.bairro?"":o.bairro,o.cidade=null===o.cidade?"":o.cidade,o.estado=null===o.estado?"":o.estado,o.cep=null===o.cep?"":o.cep,e.abrupt("return",o);case 18:return e.prev=18,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",e.t0);case 22:case"end":return e.stop()}},e,null,[[0,18]])}));function t(t){return e.apply(this,arguments)}return t}(),updateLocal:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.a.put("".concat(c["a"],"/locals/").concat(t.id),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t){return e.apply(this,arguments)}return t}(),addLocal:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.a.post("".concat(c["a"],"/locals"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t){return e.apply(this,arguments)}return t}(),deleteLocal:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.a.delete("".concat(c["a"],"/locals/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t){return e.apply(this,arguments)}return t}()}}}]);
//# sourceMappingURL=chunk-41521bfc.5e807008.js.map