(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62a89cec"],{1046:function(t,e,a){"use strict";var o=a("c221"),i=a.n(o);i.a},"9f41":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"content-block"},[t._v("Localizar Eventos")]),a("div",{staticClass:"content-block",attrs:{id:"bloco1"}},[a("div",{staticClass:"dx-card responsive-paddings"},[a("div",{staticClass:"left-side"},[a("div",{staticClass:"dx-field-label",staticStyle:{width:"85px"}},[t._v("INFORME:")]),a("dx-select-box",{attrs:{"data-source":t.fields,value:t.fields[0].key,selection:{mode:"single"},"value-expr":"key","display-expr":"text",paging:t.paging,pager:t.pager},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),a("dx-text-box",{staticStyle:{"margin-left":"6px"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("dx-button",{staticStyle:{"margin-left":"6px"},attrs:{text:"Localizar"},on:{click:t.onLocalizar}})],1),a("div",{staticClass:"right-add"},[a("dx-button",{attrs:{"styling-mode":"outlined",icon:"add",text:"adicionar"},on:{click:function(e){return t.onAdd()}}})],1),a("dx-data-grid",{staticStyle:{"margin-top":"15px"},attrs:{"data-source":t.dataSource,selection:{mode:"single"},"hover-state-enabled":!0,"remote-operations":t.remoteOperations,paging:t.paging,pager:t.pager,"key-expr":"id","show-borders":!0},scopedSlots:t._u([{key:"cellTemplate",fn:function(e){return a("div",{},[a("dx-button",{attrs:{"styling-mode":"outlined",icon:"edit"},on:{click:function(a){return t.onEditClick(e)}}}),a("dx-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"normal",text:"",icon:"trash"},on:{click:function(a){return t.onDeleteClick(e)}}})],1)}}])},[a("dx-filter-row",{attrs:{visible:!1,"apply-filter":"auto"}}),a("dx-column",{attrs:{caption:"Ações",width:110,buttons:t.editButtons,type:"buttons"}}),a("dx-column",{attrs:{caption:"Nome","data-field":"nome"}}),a("dx-column",{attrs:{caption:"Local","data-field":"local.nome","allow-sorting":!1}}),a("dx-column",{attrs:{caption:"Início","data-field":"dInicio","data-type":"date"}}),a("dx-column",{attrs:{caption:"Término","data-field":"dTermino","data-type":"date"}}),a("dx-column",{attrs:{caption:"Status","data-field":"status"}})],1)],1)])])},i=[],n=(a("ac6a"),a("55dd"),a("bc3a"),a("2919")),r=a("5c5d"),c=a("d30a"),s=a("2597"),l=a.n(s),d=a("5097"),u=a.n(d),p=a("9fc8"),x=a("de28"),g=a("a719"),f=a.n(g),m=new u.a({store:new l.a({key:"id",load:function(t){var e={};e.take=t.take,0===t.skip?e.skip=1:e.skip=t.skip/t.take+1;var a={isLocalizar:!0};if(a.page=e.skip,a.take=e.take,t.localizar){var o=t.localizar.key,i=t.localizar.value;i&&(a[o]=i)}else t.localizar=null;return _.isArray(t.sort)&&(a["sortSelector"]=t.sort[0].selector,a["sortDirection"]=t.sort[0].desc?"DESC":"ASC"),_.has(t,"start")||(a.nome="xxx"),x["a"].getEventosIndex(a)}})});window.ds=m;var h={components:{DxDataGrid:c["DxDataGrid"],DxColumn:c["DxColumn"],DxFilterRow:c["DxFilterRow"],DxEditing:c["DxEditing"],DxPaging:c["DxPaging"],DxPager:c["DxPager"],DxSearchPanel:c["DxSearchPanel"],DxSelectBox:p["DxSelectBox"],DxButton:p["DxButton"],DxTextBox:p["DxTextBox"]},created:function(){},mounted:function(){window.app=this},data:function(){return{pattern:/^\(\d{3}\) \d{3}-\d{2}$/i,moedaFormat:{type:"currency",precision:2},eventos:[],btnEditar:!0,editButtons:[{hint:"Editar",icon:"edit",visible:this.btnEditar,onClick:this.onEditClick},{hint:"Excluir",icon:"trash",visible:!0,onClick:this.onDeleteClick}],fields:[{key:"nome",text:"NOME"},{key:"status",text:"STATUS"}],dataSource:m,remoteOperations:{sorting:!0,paging:!0},paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[5,15,20,25,30],showInfo:!0},key:"nome",value:"",start:!1}},methods:{onAdd:function(){this.$router.push({path:"/evento/-1",params:{id:-1}})},onLocalizar:function(){var t=this.key,e=this.value;this.dataSource.loadOptions()["localizar"]={key:t,value:e},this.dataSource.loadOptions()["start"]=!0,this.dataSource.reload()},onEditClick:function(t){console.log("editaar ",t.row.data);var e=t.row.data.id;console.log("ID ",e),this.$router.push({path:"/evento/"+e,params:{id:e}})},onDeleteClick:function(t){var e=t.row.data.id;this.$nextTick(function(){var t=this,a=Object(r["confirm"])("<div style='margin-left:15px!important;margin-right:15px!important;'><p>Confirma a exclusão do evento selecionado?</p></div>","  Confirmação");a.then(function(a){if(console.log(a),!a)return!1;Object(n["c"])(),x["a"].deleteEvento(e).then(function(e){Object(n["c"])();var a="Excluído com sucesso",o={at:"center center",of:"#bloco1"};f()({message:a,position:o,width:300,shading:!0},"success",2e3),t.onLocalizar()}).catch(function(t){if(Object(n["c"])(),_.isArray(t))t.forEach(function(t){var e={at:"center center",of:"#bloco1"};f()({message:t.message,position:e,width:300,shading:!0},"error",4e3)});else{var e={at:"center center",of:"#bloco1"};f()({message:t,position:e,width:300,shading:!0},"error",4e3)}})})})},optionChanged:function(t){console.log("optionChanged= ",t)}}},v=h,k=(a("1046"),a("2877")),b=Object(k["a"])(v,o,i,!1,null,"284a6cc0",null);e["default"]=b.exports},c221:function(t,e,a){}}]);
//# sourceMappingURL=chunk-62a89cec.11dd0502.js.map