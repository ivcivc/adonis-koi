(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e947f5c"],{"2dc2":function(t,e,a){"use strict";var o=a("3fcd"),i=a.n(o);i.a},"3fcd":function(t,e,a){},5039:function(t,e,a){"use strict";var o=a("f3e4"),i=a.n(o);i.a},"8ad3":function(t,e,a){"use strict";a.r(e);var o,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-view dx-content-background",attrs:{"data-options":"dxContent : { targetPlaceholder: 'content' } "}},[a("h2",{staticClass:"content-block"},[t._v("Cadastro de Evento")]),a("div",{staticClass:"content-block",attrs:{id:"bloco1"}},[a("div",{staticClass:"dx-card responsive-paddings"},[a("dx-validation-group",[a("dx-tab-panel",{attrs:{items:t.tabs,deferRendering:!1},scopedSlots:t._u([{key:"tab1",fn:function(e){return a("div",{},[a("div",{staticClass:"bloco"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Nome *")]),a("div",{staticClass:"dx-field"},[a("dx-text-box",{attrs:{value:""},model:{value:t.evento.nome,callback:function(e){t.$set(t.evento,"nome",e)},expression:"evento.nome"}},[a("dx-validator",{attrs:{validationRules:t.validationRules.nome}},[a("dx-string-length-rule",{attrs:{min:3,message:"O nome do evento deve conter pelo menos 3 dígitos."}})],1)],1)],1)])]),a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Status *")]),a("div",{staticClass:"dx-field"},[a("dx-select-box",{attrs:{items:t.statusList,"show-clear-button":!0,placeholder:"Selecione",disabled:!1,searchEnabled:!0},model:{value:t.evento.status,callback:function(e){t.$set(t.evento,"status",e)},expression:"evento.status"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe o status do evento."}})],1)],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Treinamento *")]),a("div",{staticClass:"dx-field"},[a("dx-select-box",{attrs:{items:t.treinametoList,"show-clear-button":!0,placeholder:"Selecione",disabled:!1,"display-expr":"nome","value-expr":"id",searchEnabled:!0},model:{value:t.evento.treinamento_id,callback:function(e){t.$set(t.evento,"treinamento_id",e)},expression:"evento.treinamento_id"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe o nome do treinamento."}})],1)],1)],1)]),a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Local *")]),a("div",{staticClass:"dx-field"},[a("dx-select-box",{attrs:{items:t.localList,"show-clear-button":!0,placeholder:"Selecione",disabled:!1,"display-expr":"nome","value-expr":"id",searchEnabled:!0},model:{value:t.evento.local_id,callback:function(e){t.$set(t.evento,"local_id",e)},expression:"evento.local_id"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe o local do evento"}})],1)],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Início *")]),a("div",{staticClass:"dx-field"},[a("dx-date-box",{attrs:{value:t.evento.dInicio,type:"date"},model:{value:t.evento.dInicio,callback:function(e){t.$set(t.evento,"dInicio",e)},expression:"evento.dInicio"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe a data de início do evento"}})],1)],1)],1)]),a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Término *")]),a("div",{staticClass:"dx-field"},[a("dx-date-box",{attrs:{value:t.evento.dTermino,type:"date"},model:{value:t.evento.dTermino,callback:function(e){t.$set(t.evento,"dTermino",e)},expression:"evento.dTermino"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe a data de término do evento"}})],1)],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-12 col-md-12"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Anotações")]),a("div",{staticClass:"dx-field"},[a("dx-text-area",{attrs:{minHeight:80,value:t.evento.obs},on:{"update:value":function(e){return t.$set(t.evento,"obs",e)}}})],1)])])])])}},{key:"tab2",fn:function(e){return a("div",{},[a("div",{staticClass:"content1"},[a("div",{staticClass:"dx-card-personalizado"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("span",{staticStyle:{"margin-left":"6px",color:"blue"}},[t._v("Mostrar este evento no web site para venda? *")]),a("div",{staticClass:"dx-field"},[a("dx-select-box",{attrs:{items:t.siteExibirList,"show-clear-button":!0,placeholder:"Selecione",disabled:!1,searchEnabled:!0},model:{value:t.evento.siteExibir,callback:function(e){t.$set(t.evento,"siteExibir",e)},expression:"evento.siteExibir"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informar se este evento deve ser mostrado no web site."}})],1)],1)],1)]),a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Investimento *")]),a("div",{staticClass:"dx-field"},[a("dx-number-box",{attrs:{value:"",format:"R$ #,##0.##"},model:{value:t.evento.valorBase,callback:function(e){t.$set(t.evento,"valorBase",e)},expression:"evento.valorBase"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe o valor de investimento deste evento."}}),a("dx-range-rule",{attrs:{min:1,message:"Informe o valor de investimento deste evento."}})],1)],1)],1)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Nome do Evento *")]),a("div",{staticClass:"dx-field"},[a("dx-text-box",{attrs:{value:""},model:{value:t.evento.siteEvento,callback:function(e){t.$set(t.evento,"siteEvento",e)},expression:"evento.siteEvento"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe o nome evento que será exibido no web site."}})],1)],1)],1)])]),a("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Parcelamento permitido *")]),a("div",{staticClass:"dx-field"},[a("dx-select-box",{attrs:{items:t.exibirParcelamentoList,"show-clear-button":!0,placeholder:"Selecione",disabled:!1,"display-expr":"nome","value-expr":"id",searchEnabled:!0},model:{value:t.evento.siteParcelas,callback:function(e){t.$set(t.evento,"siteParcelas",e)},expression:"evento.siteParcelas"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe o máximo de parcelas permitidas no web site."}})],1)],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-12 col-md-12"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Link da imagem *")]),a("div",{staticClass:"dx-field"},[a("dx-text-box",{attrs:{value:""},model:{value:t.evento.siteLink,callback:function(e){t.$set(t.evento,"siteLink",e)},expression:"evento.siteLink"}})],1)])])])]),a("div",{staticStyle:{"margin-left":"12px"}},[a("h5",[t._v("Informe os detalhes do evento.")])]),a("div",{staticStyle:{"margin-top":"-15px"}},[a("dx-html-editor",{attrs:{height:300,value:t.evento.siteDetalhes},on:{input:function(e){return t.$emit("input",e.target.value)},"update:value":function(e){return t.$set(t.evento,"siteDetalhes",e)}},model:{value:t.evento.siteDetalhes,callback:function(e){t.$set(t.evento,"siteDetalhes",e)},expression:"evento.siteDetalhes"}},[a("dx-toolbar",[a("dx-item",{attrs:{"format-name":"undo"}}),a("dx-item",{attrs:{"format-name":"redo"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-values":t.sizeValues,"format-name":"size"}}),a("dx-item",{attrs:{"format-values":t.fontValues,"format-name":"font"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"bold"}}),a("dx-item",{attrs:{"format-name":"italic"}}),a("dx-item",{attrs:{"format-name":"strike"}}),a("dx-item",{attrs:{"format-name":"underline"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"alignLeft"}}),a("dx-item",{attrs:{"format-name":"alignCenter"}}),a("dx-item",{attrs:{"format-name":"alignRight"}}),a("dx-item",{attrs:{"format-name":"alignJustify"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"color"}}),a("dx-item",{attrs:{"format-name":"background"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"link"}}),a("dx-item",{attrs:{"format-name":"image"}})],1)],1)],1)])])}},{key:"tab3",fn:function(e){return a("div",{},[a("div",{staticClass:"content1"},[a("div",{staticClass:"dx-card-personalizado"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-12 col-md-12"},[a("div",{staticStyle:{"margin-left":"6px",color:"black","margin-bottom":"5px"}},[a("span",[a("b",[t._v("Email de boas vindas")])])])]),a("div",{staticClass:"col-xs-9 col-sm-9 col-md-9"},[a("dx-text-box",{attrs:{value:"",placeholder:"Informe o título do email",editorOptions:{value:null,width:"100%"}},model:{value:t.evento.emailBoasVindasTitulo,callback:function(e){t.$set(t.evento,"emailBoasVindasTitulo",e)},expression:"evento.emailBoasVindasTitulo"}})],1),a("div",{staticClass:"col-xs-12 col-sm-12 col-md-12"},[a("div",{staticStyle:{"margin-top":"5px"}},[a("dx-html-editor",{attrs:{height:260,value:t.evento.emailBoasVindas,id:"editor"},on:{input:function(e){return t.$emit("input",e.target.value)},"update:value":function(e){return t.$set(t.evento,"emailBoasVindas",e)}},model:{value:t.evento.emailBoasVindas,callback:function(e){t.$set(t.evento,"emailBoasVindas",e)},expression:"evento.emailBoasVindas"}},[a("dx-toolbar",[a("dx-item",{attrs:{"format-name":"undo"}}),a("dx-item",{attrs:{"format-name":"redo"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-values":t.sizeValues,"format-name":"size"}}),a("dx-item",{attrs:{"format-values":t.fontValues,"format-name":"font"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"bold"}}),a("dx-item",{attrs:{"format-name":"italic"}}),a("dx-item",{attrs:{"format-name":"strike"}}),a("dx-item",{attrs:{"format-name":"underline"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"alignLeft"}}),a("dx-item",{attrs:{"format-name":"alignCenter"}}),a("dx-item",{attrs:{"format-name":"alignRight"}}),a("dx-item",{attrs:{"format-name":"alignJustify"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"color"}}),a("dx-item",{attrs:{"format-name":"background"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"link"}}),a("dx-item",{attrs:{"format-name":"image"}})],1)],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-12 col-md-12"},[a("div",{staticStyle:{"margin-left":"6px",color:"black","margin-bottom":"5px","margin-top":"10px"}},[a("span",[a("b",[t._v("Email Informativo")])])])]),a("div",{staticClass:"col-xs-6 col-sm-6 col-md-6"},[a("dx-text-box",{attrs:{value:"",placeholder:"Informe o título do email",editorOptions:{value:null,width:"100%"}},model:{value:t.evento.emailInformativoTitulo,callback:function(e){t.$set(t.evento,"emailInformativoTitulo",e)},expression:"evento.emailInformativoTitulo"}})],1),a("div",{staticClass:"col-xs-3 col-sm-3 col-md-3"},[a("dx-text-box",{attrs:{value:"",placeholder:"Disparo",disabled:!0,editorOptions:{value:null,width:"100%"}},model:{value:t.evento.emailInformativoTitulo,callback:function(e){t.$set(t.evento,"emailInformativoTitulo",e)},expression:"evento.emailInformativoTitulo"}})],1),a("div",{staticClass:"col-xs-4 col-sm-3 col-md-3"},[a("dx-button",{attrs:{"styling-mode":"outlined",icon:"email",text:"Disparar"},on:{click:function(e){return t.onDispararEmailInformativo()}}})],1),a("div",{staticClass:"col-xs-12 col-sm-12 col-md-12"},[a("div",{staticStyle:{"margin-top":"5px"}},[a("dx-html-editor",{attrs:{height:260,value:t.evento.emailInformativo,id:"editor2"},on:{input:function(e){return t.$emit("input",e.target.value)},"update:value":function(e){return t.$set(t.evento,"emailInformativo",e)}},model:{value:t.evento.emailInformativo,callback:function(e){t.$set(t.evento,"emailInformativo",e)},expression:"evento.emailInformativo"}},[a("dx-toolbar",[a("dx-item",{attrs:{"format-name":"undo"}}),a("dx-item",{attrs:{"format-name":"redo"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-values":t.sizeValues,"format-name":"size"}}),a("dx-item",{attrs:{"format-values":t.fontValues,"format-name":"font"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"bold"}}),a("dx-item",{attrs:{"format-name":"italic"}}),a("dx-item",{attrs:{"format-name":"strike"}}),a("dx-item",{attrs:{"format-name":"underline"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"alignLeft"}}),a("dx-item",{attrs:{"format-name":"alignCenter"}}),a("dx-item",{attrs:{"format-name":"alignRight"}}),a("dx-item",{attrs:{"format-name":"alignJustify"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"color"}}),a("dx-item",{attrs:{"format-name":"background"}}),a("dx-item",{attrs:{"format-name":"separator"}}),a("dx-item",{attrs:{"format-name":"link"}}),a("dx-item",{attrs:{"format-name":"image"}})],1)],1)],1)])])])])])}},{key:"tab4",fn:function(e){return a("div",{},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.tabParticipantesEnabled,expression:"!tabParticipantesEnabled"}],staticStyle:{margin:"15px"}},[a("div",{staticClass:"row center-xs"},[a("div",{staticClass:"col-xs-6"},[a("div",{staticClass:"box"},[a("h3",{staticStyle:{padding:"20px"}},[t._v("Este evento ainda não foi gravado.")])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabParticipantesEnabled,expression:"tabParticipantesEnabled"}],staticClass:"dx-card responsive-paddings"},[a("div",{staticClass:"row end-xs",staticStyle:{"margin-top":"-23px"}},[a("div",{staticClass:"col-xs-4"},[a("span",[t._v("À VISTA: R$ "+t._s(t.numero(t.evento.valorBaseAVista)))])]),a("div",{staticClass:"col-xs-4"},[a("span",[t._v("À PRAZO: R$ "+t._s(t.numero(t.evento.valorBase)))])]),a("div",{staticClass:"col-xs-4"},[a("dx-button",{attrs:{"styling-mode":"outlined",icon:"add",text:"adicionar"},on:{click:function(e){return t.onAddParticipante()}}})],1)]),a("dx-data-grid",{ref:t.gridRefName,staticStyle:{"margin-top":"8px"},attrs:{id:"grid","data-source":t.participantes,keyExpr:"id","show-borders":!0,selection:{mode:"single"},"hover-state-enabled":!0,"row-alternation-enabled":!0},on:{"selection-changed":t.onSelectionGridChanged},scopedSlots:t._u([{key:"receberStatus",fn:function(e){var o=e.data;return a("div",{},[o.data.receberStatus.length>0?[a("a",{attrs:{id:"aStatus",href:"#"},on:{click:function(e){return e.preventDefault(),t.botaoReceberGrid(o)}}},[t._v(t._s(o.data.receberStatus))])]:t._e(),a("div",[t._v(t._s(o.data.receberStatus))])],2)}},{key:"cell-pagarConsultor",fn:function(t){var e=t.data;return a("dx-check-box",{attrs:{value:e.text}})}},{key:"cell-city",fn:function(t){var e=t.data;return a("dx-button",{attrs:{text:e.text}})}},{key:"tag",fn:function(e){var o=e.data;return a("span",{staticClass:"New"},[t._v(t._s(o.text))])}}],null,!0)},[a("dx-column",{attrs:{caption:"Ações",width:80,buttons:t.editButtons,type:"buttons"}}),a("dx-column",{attrs:{"data-field":"receberStatus",width:80,caption:"Receber",alignment:"left"}}),a("dx-column",{attrs:{width:82,"data-field":"treinamentoConcluido",caption:"Certificado","calculate-cell-value":t.treinamentoConcluidoCell}}),a("dx-column",{attrs:{"data-field":"pessoa.nome",caption:"Nome"}}),a("dx-column",{attrs:{"calculate-cell-value":t.consultorCell,caption:"Consultor",alignment:"left"}}),a("dx-column",{attrs:{width:60,"data-field":"pagarConsultor",caption:"Pagar?","calculate-cell-value":t.pagarConsultorCell}}),a("dx-column",{attrs:{"calculate-cell-value":t.tipoNegociacaoCell,caption:"Negociação"}}),a("dx-column",{attrs:{"data-field":"parcelas","data-type":"number",width:66}}),a("dx-column",{attrs:{"data-field":"valorBase",width:110,caption:"Valor",format:t.moedaFormat}}),a("dx-column",{attrs:{caption:"",width:45,buttons:t.editButtonsExcluir,type:"buttons"}})],1)],1)])}}])}),a("dx-validation-summary"),a("dx-button",{staticStyle:{"margin-top":"15px"},attrs:{text:"Gravar",type:"success","tooltip-placement":"auto","data-toggle":"tooltip",tooltip:"Gravando..."},on:{click:t.validate}}),a("dx-button",{staticStyle:{"margin-top":"15px","margin-left":"8px"},attrs:{text:"Cancelar",type:"normal"},on:{click:t.cancelar}})],1)],1)]),a("dx-popup",{staticClass:"popup",attrs:{visible:t.popupReceberVisible,"drag-enabled":!0,"close-on-outside-click":!1,"show-title":!0,title:"",titleTemplate:t.tituloContaReceber,fullScreen:t.popupFullScreen,"content-template":"myContent",maxWidth:990,maxHeight:850,deferRendering:!1},on:{"update:visible":function(e){t.popupReceberVisible=e}},scopedSlots:t._u([{key:"myContent",fn:function(e){return a("div",{},[a("dx-scroll-view",[a("FormReceber",{attrs:{isPopup:!0,isTitle:!1,isParenteListaParticipantes:!0,participante:t.participante,receber_id:t.receber_id,limpar:t.limparItemsReceber,alunoDisable:!0},on:{refreshParticipantes:t.refreshParticipantes,close:function(e){t.popupReceberVisible=e,t.receber_id=-2},atualizarListaParticipantes:t.onAtualizarListaParticipantes}})],1)],1)}}])}),a("dx-popup",{staticClass:"popup",attrs:{visible:t.popupVisible,"drag-enabled":!0,"close-on-outside-click":!1,"show-title":!0,title:"Information",titleTemplate:"<b>Editar aluno inscrito</b>",fullScreen:t.popupFullScreen,"content-template":"myContent",maxWidth:t.isPopupMaxWidth,maxHeight:t.isPopupMaxHeight,deferRendering:!1},on:{"update:visible":function(e){t.popupVisible=e}},scopedSlots:t._u([{key:"myContent",fn:function(e){return a("div",{},[a("FormParticipante",{attrs:{isPopup:!0,isTitle:!1,editar:t.editarParticipante,tipoNegociacaoList:t.tipoNegociacaoList,evento:t.evento,participante:t.participante},on:{close:function(e){t.popupVisible=e},atualizar:t.refreshParticipantes}})],1)}}])})],1)},s=[],n=(a("7514"),a("ac6a"),a("96cf"),a("3b8d")),r=a("bd86"),l=a("a719"),c=a.n(l),d=(a("d859"),a("2919")),p=a("5c5d"),u=a("6a70"),m=a("43ac"),x=a("66dc"),v=a("9fc8"),f=a("f806"),h=a.n(f),b=a("d30a"),g=a("0db8"),C=a("de28"),D=(a("c74b"),a("656d"),a("4344")),y=a("d736"),S=a.n(y),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isTitle?a("h1",[t._v("Participante")]):t._e(),a("div",{staticClass:"content-block1",attrs:{id:"bloco1"}},[a("dx-scroll-view",{attrs:{height:t.scrollHeight}},[a("dx-validation-group",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-7 col-md-8"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[a("span",{staticStyle:{"margin-left":"0px"}},[t._v("Nome *")]),a("a",{staticStyle:{"margin-left":"40px"},attrs:{href:"#"},on:{click:this.formCliente}},[t._v("adicionar")])]),a("div",{staticClass:"dx-field"},[a("DxSelectBox",{attrs:{"search-enabled":!0,"data-source":t.participantes,"search-mode":t.searchModeOption,"search-expr":t.searchExprOption,"search-timeout":t.searchTimeoutOption,"min-search-length":t.minSearchLengthOption,"show-data-before-search":t.showDataBeforeSearchOption,"display-expr":"nome","value-expr":"id",value:1},model:{value:t.participante.pessoa_id,callback:function(e){t.$set(t.participante,"pessoa_id",e)},expression:"participante.pessoa_id"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe o nome do Aluno."}})],1)],1)],1)])]),a("div",{staticClass:"col-xs-12 col-sm-5 col-md-4"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}}),a("div",{staticClass:"dx-field"},[a("dx-check-box",{attrs:{text:"Treinamento Concluído"},model:{value:t.participante.treinamentoConcluido,callback:function(e){t.$set(t.participante,"treinamentoConcluido",e)},expression:"participante.treinamentoConcluido"}})],1)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-3 col-md-3"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Total Parcelas *")]),a("div",{staticClass:"dx-field"},[a("dx-number-box",{attrs:{value:""},model:{value:t.participante.parcelas,callback:function(e){t.$set(t.participante,"parcelas",e)},expression:"participante.parcelas"}},[a("dx-validator",[a("dx-range-rule",{attrs:{min:0,max:12,message:"Informe o total de parcelas (intervalor de 0-12)."}}),a("dx-compare-rule",{attrs:{"comparison-target":t.parcelasComparison,message:"Informe quantidade de parcelas."}})],1)],1)],1)])]),a("div",{staticClass:"col-xs-12 col-sm-4 col-md-5"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Valor do Treinamento *")]),a("div",{staticClass:"dx-field"},[a("dx-number-box",{attrs:{value:"",format:"R$ #,##0.##"},model:{value:t.participante.valorBase,callback:function(e){t.$set(t.participante,"valorBase",e)},expression:"participante.valorBase"}},[a("dx-validator",[a("dx-range-rule",{attrs:{min:0,message:"Informe o valor total do investimento."}}),a("dx-compare-rule",{attrs:{"comparison-target":t.totalComparison,message:"Informe o valor Total do treinamento."}})],1)],1)],1)])]),a("div",{staticClass:"col-xs-12 col-sm-5 col-md-4"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Tipo de Negociação *")]),a("a",{staticStyle:{"margin-left":"40px"},attrs:{href:"#"},on:{click:this.formTipoNegociacao}},[t._v("adicionar")]),a("div",{staticClass:"dx-field"},[a("DxSelectBox",{attrs:{"search-enabled":!0,"data-source":t.tipoNegociacaoList,"search-mode":t.searchModeOption,"search-expr":t.searchExprOption,"search-timeout":t.searchTimeoutOption,"min-search-length":0,"show-data-before-search":t.showDataBeforeSearchOption,"display-expr":"nome","value-expr":"id"},model:{value:t.participante.tipoNegociacao_id,callback:function(e){t.$set(t.participante,"tipoNegociacao_id",e)},expression:"participante.tipoNegociacao_id"}},[a("dx-validator",[a("dx-required-rule",{attrs:{message:"Informe o tipo de negociação."}})],1)],1)],1)])])]),a("div",{staticStyle:{"margin-left":"0px","margin-top":"10px","margin-bottom":"8px"}},[a("span",[a("b",[t._v("Consultor")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-7 col-md-8"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Nome")]),a("div",{staticClass:"dx-field"},[a("DxSelectBox",{attrs:{"search-enabled":!0,"data-source":t.consultores,"search-mode":t.searchModeOption,"search-expr":t.searchExprOption,"search-timeout":t.searchTimeoutOption,"min-search-length":t.minSearchLengthOption,"show-data-before-search":t.showDataBeforeSearchOption,"display-expr":"nome","value-expr":"id",value:1},model:{value:t.participante.consultor_id,callback:function(e){t.$set(t.participante,"consultor_id",e)},expression:"participante.consultor_id"}},[a("dx-validator",[a("dx-compare-rule",{attrs:{"comparison-target":t.nomeConsultorComparison,message:"Informe o nome do Consultor"}})],1)],1)],1)])]),a("div",{staticClass:"col-xs-12 col-sm-5 col-md-4"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Pagar Consultor? *")]),a("div",{staticClass:"dx-field"},[a("dx-select-box",{attrs:{items:[{key:!0,value:"SIM"},{key:!1,value:"NÃO"}],"show-clear-button":!0,placeholder:"Selecione",disabled:!1,"display-expr":"value","value-expr":"key"},model:{value:t.participante.pagarConsultor,callback:function(e){t.$set(t.participante,"pagarConsultor",e)},expression:"participante.pagarConsultor"}},[a("dx-validator",[a("dx-compare-rule",{attrs:{"comparison-target":t.pagarConsultorComparison,message:"Informe se o consultor será pago."}})],1)],1)],1)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-3 col-md-4"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px"}},[t._v("Consultor (%) *")]),a("div",{staticClass:"dx-field"},[a("dx-number-box",{attrs:{min:0,max:100,format:"#,##0.##"},model:{value:t.participante.percentConsultor,callback:function(e){t.$set(t.participante,"percentConsultor",e)},expression:"participante.percentConsultor"}},[a("dx-validator",[a("dx-compare-rule",{attrs:{"comparison-target":t.percentConsultorComparison,message:"Informe o percentual de comissão do consultor"}})],1)],1)],1)])]),a("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px","margin-right":"16px"}},[t._v("Valor")]),a("a",{attrs:{href:"#"},on:{click:this.calcularComissaoConsultor}},[t._v("Calcular")]),a("div",{staticClass:"dx-field"},[a("dx-number-box",{ref:"valorConsultorRef",attrs:{format:"R$ #,##0.##"},model:{value:t.participante.valorConsultor,callback:function(e){t.$set(t.participante,"valorConsultor",e)},expression:"participante.valorConsultor"}},[a("dx-validator",[a("dx-range-rule",{attrs:{min:0,message:"Informe o valor a ser pago ao Consultor."}}),a("dx-compare-rule",{attrs:{"comparison-target":t.valorConsultorComparison,message:"Informe o valor a ser pago ao Consultor"}})],1)],1)],1)])]),a("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[a("div",{staticClass:"box"},[a("span",{staticStyle:{"margin-left":"6px","font-weight":"bold"}},[t._v("Padrinho")]),a("div",{staticClass:"dx-field"},[a("DxSelectBox",{attrs:{"search-enabled":!0,"data-source":t.padrinhos,"search-mode":t.searchModeOption,"search-expr":t.searchExprOption,"search-timeout":t.searchTimeoutOption,"min-search-length":t.minSearchLengthOption,"show-data-before-search":t.showDataBeforeSearchOption,"display-expr":"nome","value-expr":"id",value:1},model:{value:t.participante.padrinho_id,callback:function(e){t.$set(t.participante,"padrinho_id",e)},expression:"participante.padrinho_id"}})],1)])])]),a("div",{staticClass:"row end-xs",staticStyle:{"margin-top":"32px","margin-bottom":"25px"}},[a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"box"},[a("dx-button",{attrs:{text:"Gravar",type:"success"},on:{click:t.validate}}),a("dx-button",{staticStyle:{"margin-left":"8px"},attrs:{text:"Cancelar"},on:{click:t.cancelar}})],1)])])]),a("dx-validation-summary")],1)],1),a("dx-popup",{staticClass:"popup",attrs:{visible:t.popupPessoaVisible,"drag-enabled":!0,"close-on-outside-click":!1,"show-title":!0,title:"",titleTemplate:"<div style='padding: 5px;'><b>Cadastro de Pessoa (adicionar)</b></div>",fullScreen:t.popupFullScreen,"content-template":"myContent",maxWidth:t.isPopupMaxWidth,maxHeight:t.isPopupMaxHeight},on:{"update:visible":function(e){t.popupPessoaVisible=e}},scopedSlots:t._u([{key:"myContent",fn:function(e){return a("div",{},[a("dx-scroll-view",[a("FormAluno",{attrs:{isPopup:!0,isTitle:!1},on:{close:function(e){t.popupPessoaVisible=e}}})],1)],1)}}])}),a("dx-popup",{staticClass:"popup",attrs:{visible:t.popupTipoNegociacaoVisible,"drag-enabled":!0,"close-on-outside-click":!1,"show-title":!0,title:"",titleTemplate:"<div style='padding: 5px;'><b>Cadastro de Tipo de Negociação (adicionar)</b></div>",fullScreen:t.popupFullScreen,"content-template":"myContent",maxWidth:600,maxHeight:350},on:{"update:visible":function(e){t.popupTipoNegociacaoVisible=e}},scopedSlots:t._u([{key:"myContent",fn:function(e){return a("div",{},[a("dx-scroll-view",[a("FormTipoNegociacao",{attrs:{isPopup:!0,isTitle:!1},on:{close:function(e){t.refreshTipoNegociacao(),t.popupTipoNegociacaoVisible=e}}})],1)],1)}}])})],1)},R=[],k=(a("55dd"),a("a65b")),O=a("bcb8"),B=a("2597"),I=a.n(B),P=a("5097"),V=a.n(P),T=a("e4b4"),E=a("a497"),N=(a("3022"),a("1c46"),new V.a({store:new I.a({key:"id",byKey:function(t){return console.log("buscando byKey ",t),T["a"].getPessoas(t)},load:function(t){var e={isLocalizar:!0,grupos:["ALUNO"],isLookup:!0,take:20,page:1};if(t.searchValue){var a="nome",o=t.searchValue;o&&(e[a]=o)}else t.searchValue=null;return _.isArray(t.sort)&&(e["sortSelector"]=t.sort[0].selector,e["sortDirection"]=t.sort[0].desc?"DESC":"ASC"),T["a"].getPessoaIndex(e)}})})),j=new V.a({store:new I.a({key:"id",byKey:function(t){return console.log("buscando byKey ",t),T["a"].getPessoas(t)},load:function(t){var e={isLocalizar:!0,grupos:["CONSULTOR"],isLookup:!0,take:20,page:1};if(t.searchValue){var a="nome",o=t.searchValue;o&&(e[a]=o)}else t.searchValue=null;return _.isArray(t.sort)&&(e["sortSelector"]=t.sort[0].selector,e["sortDirection"]=t.sort[0].desc?"DESC":"ASC"),T["a"].getPessoaIndex(e)}})}),$={components:{FormAluno:k["a"],FormTipoNegociacao:O["default"],DxPopup:S.a,DxTextArea:v["DxTextArea"],DxCheckBox:v["DxCheckBox"],DxSelectBox:v["DxSelectBox"],DxDateBox:v["DxDateBox"],DxNumberBox:v["DxNumberBox"],DxButton:v["DxButton"],DxTextBox:v["DxTextBox"],DxValidator:v["DxValidator"],DxValidationGroup:v["DxValidationGroup"],DxValidationSummary:v["DxValidationSummary"],DxAdapter:g["DxAdapter"],DxRequiredRule:g["DxRequiredRule"],DxCompareRule:g["DxCompareRule"],DxEmailRule:g["DxEmailRule"],DxPatternRule:g["DxPatternRule"],DxStringLengthRule:g["DxStringLengthRule"],DxRangeRule:g["DxRangeRule"],DxScrollView:v["DxScrollView"]},props:{isPopup:{type:Boolean,default:!1},isTitle:{type:Boolean,default:!0},participante:{type:Object,default:{}},tipoNegociacaoList:{type:Array,default:[]},evento:{type:Object,default:{}},editar:{type:Boolean,default:!1}},created:function(){var t=new v["DxValidator"]({propsData:{adapter:{getValue:this.getCustomValue},validationRules:[{type:"range",min:0,max:9,message:"From 1 to 10"}]}}).$mount();this.validator=t.instance},data:function(){var t=this;return{participantes:N,consultores:j,padrinhos:N,searchModeOption:"contains",searchExprOption:"nome",searchTimeoutOption:200,minSearchLengthOption:3,showDataBeforeSearchOption:!1,popupPessoaVisible:!1,popupTipoNegociacaoVisible:!1,popupFullScreen:!1,isPopupMaxWidth:"1400",isPopupMaxHeight:"1000",pagarConsultorComparison:function(e){var a=_.isUndefined(t.participante.pagarConsultor)?null:t.participante.pagarConsultor,o=_.isNull(t.participante.pagarConsultor)||_.isUndefined(t.participante.pagarConsultor),i=_.isUndefined(t.participante.valorConsultor)?0:t.participante.valorConsultor,s=_.isUndefined(t.participante.percentConsultor)?0:t.participante.percentConsultor;return!!o||!(a&&s<=0)&&(!(a&&i<=0)&&(!a&&i>0||(!a&&s>0||a)))},valorConsultorComparison:function(){var e=_.isUndefined(t.participante.pagarConsultor)?null:t.participante.pagarConsultor,a=_.isUndefined(t.participante.valorConsultor)?0:t.participante.valorConsultor,o=_.isUndefined(t.participante.percentConsultor)?0:t.participante.percentConsultor;return e&&o>0&&a>0?a:!e&&a>0?a+1:!e&&o>0?a+1:e&&0===a?a+1:a},percentConsultorComparison:function(){var e=_.isUndefined(t.participante.pagarConsultor)?null:t.participante.pagarConsultor,a=_.isUndefined(t.participante.valorConsultor)?0:t.participante.valorConsultor,o=_.isUndefined(t.participante.percentConsultor)?0:t.participante.percentConsultor;return 0===o&&a>0?o+1:0===o&&e?o+1:o},nomeConsultorComparison:function(){var e=t.participante.consultor_id,a=_.isUndefined(t.participante.consultor_id)||_.isNull(t.participante.consultor_id)?0:t.participante.consultor_id,o=_.isUndefined(t.participante.pagarConsultor)?null:t.participante.pagarConsultor;return a>0&&o?e:0===a&&o?a-1:e},parcelasComparison:function(){var e=t.participante.parcelas,a=_.isUndefined(t.participante.parcelas)||_.isNull(t.participante.parcelas)?0:t.participante.parcelas,o=_.isUndefined(t.participante.valorBase)||_.isNull(t.participante.valorBase)?null:t.participante.valorBase;return a>0&&o>0?e:0===a&&o>0?a-1:e},totalComparison:function(){var e=t.participante.valorBase,a=_.isUndefined(t.participante.parcelas)||_.isNull(t.participante.parcelas)?0:t.participante.parcelas,o=_.isUndefined(t.participante.valorBase)||_.isNull(t.participante.valorBase)?null:t.participante.valorBase;return o>0&&a>0?e:0===o&&a>0?o-1:e}}},computed:{scrollHeight:function(){var t=this.$store.getters["common/screen"],e=370;return(t.isLarge||t.isMedium)&&(e=970),t.isSmall&&(e=900),t.isXSmall&&(e=400),e}},watch:{screen:function(t){t.isSmall||t.isXSmall?(this.isPopupMaxWidth="2000",this.isPopupMaxHeight="2000",this.popupFullScreen=!0):(this.popupFullScreen=!1,this.isPopupMaxWidth="900",this.isPopupMaxHeight="450")},"participante.parcelas":function(t){this.editar||void 0!==t&&(0===t&&(this.participante.valorBase=0),1===t&&(this.participante.valorBase=this.evento.valorBaseAVista),t>1&&(this.participante.valorBase=this.evento.valorBase))},participante:function(t){console.log("Ouvindo troca de participante....",t),this.$forceUpdate()}},methods:{onFechar:function(){this.isPopup&&this.$emit("close",!1)},formCliente:function(){this.popupPessoaVisible=!this.popupPessoaVisible},formTipoNegociacao:function(){this.popupTipoNegociacaoVisible=!this.popupTipoNegociacaoVisible},calcularComissaoConsultor:function(){var t=this,e=(_.isUndefined(this.participante.valorConsultor)||this.participante.valorConsultor,_.isUndefined(this.participante.percentConsultor)?0:this.participante.percentConsultor),a=this.participante.valorBase;if(!(a<=0||e<=0))return this.participante.id?void this.$nextTick(function(){var o=Object(p["confirm"])("<p>Confirma recalcular a comissão?</p>","Confirmação");o.then(function(o){t.participante.valorConsultor=a*e/100,t.$forceUpdate()})}):(this.participante.valorConsultor=a*e/100,void this.$forceUpdate())},refreshTipoNegociacao:function(){var t=this;Object(d["c"])(),E["a"].getTipoNegociacoesIndex({sortSelector:"nome",sortDirection:"desc"}).then(function(e){Object(d["c"])(),t.tipoNegociacaoList=e.data}).catch(function(t){Object(d["c"])(),window.errou=t,console.log(t);var e={at:"center center",of:"#bloco1"};c()({message:t,position:e,width:300,shading:!0},"error",3e3)})},validateCustom:function(){return this.participante.pagarConsultor&&0===valorConsultor?(console.log("validateCustom .f. "),!1):(console.log("validateCustom .t. "),!0)},preparar:function(){var t=_.cloneDeep(this.participante),e={consultor_id:t.consultor_id,padrinho_id:t.padrinho_id,evento_id:t.evento_id,pagarConsultor:t.pagarConsultor,parcelas:t.parcelas,percentConsultor:t.percentConsultor,pessoa_id:t.pessoa_id,tipoNegociacao_id:t.tipoNegociacao_id,valorBase:t.valorBase,treinamentoConcluido:t.treinamentoConcluido,valorConsultor:t.valorConsultor};return t.id&&(e.id=t.id),e},validate:function(t){console.log("validando... "),console.log(t);var e=t.validationGroup.validate();if(e.isValid)if(console.log("passou na validação "),e.isValid){var a=this.preparar();_.has(a,"id")?this.update(a):this.add(a)}else console.log("falhou na validação");else console.log("falhou na validação")},add:function(t){var e=this;Object(d["c"])(),C["a"].addEventoParticipante(t).then(function(t){Object(d["c"])(),e.participante.id=t.id,e.id=t.id;var a={at:"center center",of:"#bloco1"};c()({message:"Adicionado com sucesso.",position:a,width:300,shading:!0},"success",1e3),e.isPopup&&e.$emit("atualizar",!0),e.cancelar()}).catch(function(t){Object(d["c"])(),window.errou=t,console.log(t);var e={at:"center center",of:"#bloco1"};c()({message:t,position:e,width:300,shading:!0},"error",4e3)})},update:function(t){var e=this;Object(d["c"])(),C["a"].updateEventoParticipante(t).then(function(t){Object(d["c"])();var a={at:"center center",of:"#bloco1"};c()({message:"Atualizado com sucesso",position:a,width:300,shading:!0},"success",2e3),e.isPopup&&e.$emit("atualizar",!0),e.cancelar()}).catch(function(t){window.errou=t,console.log(t),Object(d["c"])();var e={at:"center center",of:"#bloco1"};c()({message:t,position:e,width:300,shading:!0},"error",4e3)})},cancelar:function(){this.isPopup&&this.$emit("close",!1)}}},L=$,A=(a("2dc2"),a("2877")),F=Object(A["a"])(L,w,R,!1,null,"ae0296e2",null),G=F.exports,M=a("5b2c"),q=new Intl.NumberFormat("pt-BR",{style:"decimal",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}),U="some-ref-name",z={components:(o={DxTextBox:v["DxTextBox"],DxNumberBox:v["DxNumberBox"],DxButton:v["DxButton"],DxDateBox:v["DxDateBox"],DxValidationGroup:v["DxValidationGroup"],DxValidationSummary:v["DxValidationSummary"],DxValidator:v["DxValidator"],DxAdapter:g["DxAdapter"],DxEmailRule:g["DxEmailRule"],DxRequiredRule:g["DxRequiredRule"],DxTextArea:v["DxTextArea"],DxCheckBox:v["DxCheckBox"],DxSelectBox:v["DxSelectBox"],DxTabPanel:h.a,DxHtmlEditor:u["DxHtmlEditor"],DxToolbar:u["DxToolbar"],DxItem:u["DxItem"],DxButtonGroup:m["DxButtonGroup"],DxButtonGroupItem:m["DxItem"],DxCompareRule:g["DxCompareRule"]},Object(r["a"])(o,"DxEmailRule",g["DxEmailRule"]),Object(r["a"])(o,"DxPatternRule",g["DxPatternRule"]),Object(r["a"])(o,"DxStringLengthRule",g["DxStringLengthRule"]),Object(r["a"])(o,"DxRangeRule",g["DxRangeRule"]),Object(r["a"])(o,"DxDataGrid",b["DxDataGrid"]),Object(r["a"])(o,"DxColumn",b["DxColumn"]),Object(r["a"])(o,"DxFilterRow",b["DxFilterRow"]),Object(r["a"])(o,"DxGrouping",b["DxGrouping"]),Object(r["a"])(o,"DxGroupPanel",b["DxGroupPanel"]),Object(r["a"])(o,"DxPager",b["DxPager"]),Object(r["a"])(o,"DxPaging",b["DxPaging"]),Object(r["a"])(o,"DxSelection",b["DxSelection"]),Object(r["a"])(o,"DxTooltip",D["DxTooltip"]),Object(r["a"])(o,"FormParticipante",G),Object(r["a"])(o,"DxPopup",S.a),Object(r["a"])(o,"FormReceber",M["a"]),Object(r["a"])(o,"DxScrollView",v["DxScrollView"]),Object(r["a"])(o,"DxSimpleItem",x["DxSimpleItem"]),Object(r["a"])(o,"DxForm",x["DxForm"]),o),props:["id2"],beforeRouteEnter:function(t,e,a){Object(d["c"])();var o=parseInt(t.params.id);console.log("evento id==== ",o),o&&-1!==o?C["a"].get(o).then(function(t){a(function(e){e.tabParticipantesEnabled=o>0;var a=t[0];e.evento=a;var i=t[3].data;return i.map(function(t){t.pagarConsultor=1===parseInt(t.pagarConsultor),t.treinamentoConcluido=1===parseInt(t.treinamentoConcluido),e.lodash.isNull(t.receber)?t.receberStatus="":t.receberStatus=t.receber.statusDescription}),e.participantes=i,e.treinametoList=t[2].data,e.localList=t[1].data,e.tipoNegociacaoList=t[4].data,!0}),Object(d["c"])()}).catch(function(t){Object(d["c"])(),a(!1)}):C["a"].getNovo().then(function(t){a(function(e){return e.tabParticipantesEnabled=!1,e.localList=t[0].data,e.treinametoList=t[1].data,e.tipoNegociacaoList=t[2].data,e.novoRegistro(),!0}),Object(d["c"])()}).catch(function(t){Object(d["c"])(),a(!1)})},mounted:function(){window.app=this},data:function(){return{id:this.$route.params.id,tituloContaReceber:"Cadastro de Contas a Receber",popupVisible:!1,popupReceberVisible:!1,popupFullScreen:!1,isPopupMaxWidth:"900",isPopupMaxHeight:"450",gridRefName:"grid",selectedRowIndex:-1,receber_id:-5,limparItemsReceber:0,editarParticipante:!1,animationConfig:{show:{type:"slide",from:{top:-100,opacity:0},to:{top:0,opacity:1}},hide:{type:"pop",from:{scale:1,opacity:1},to:{scale:.1,opacity:0}}},editButtons:[{hint:"Editar",icon:"edit",visible:!0,onClick:this.onParticipanteEditClick},{hint:"Contas a Receber",icon:"money",visible:this.onReceberVisible,onClick:this.onReceberEditClick}],editButtonsExcluir:[{hint:"Excluir",icon:"trash",visible:this.onExcluirVisible,onClick:this.onParticipanteDeleteClick}],moedaFormat:{type:"currency",precision:2},tabParticipantesEnabled:!1,tabs:[{title:"Informações",template:"tab1"},{title:"Site",template:"tab2"},{title:"Email",template:"tab3"},{title:"Participantes",template:"tab4"}],validationRules:{nome:[{type:"required",message:"Informe o nome do evento."}]},sizeValues:["8pt","10pt","12pt","14pt","18pt","24pt","36pt"],fontValues:["Arial","Courier New","Georgia","Impact","Lucida Console","Tahoma","Times New Roman","Verdana"],evento:{siteDetalhes:"",valorBase:0,percentConsultor:0,emailBoasVindas:"",emailInformativo:"",dDisparoEmail:null},treinametoList:[],localList:[],statusList:["ATIVO","INATIVO"],siteExibirList:["SIM","NÃO"],tipoNegociacaoList:[],exibirParcelamentoList:[{id:1,nome:"1 parcela"},{id:2,nome:"2 parcelas"},{id:3,nome:"3 parcelas"},{id:4,nome:"4 parcelas"},{id:5,nome:"5 parcelas"},{id:6,nome:"6 parcelas"},{id:7,nome:"7 parcelas"},{id:8,nome:"8 parcelas"},{id:9,nome:"9 parcelas"},{id:10,nome:"10 parcelas"},{id:11,nome:"11 parcelas"},{id:12,nome:"12 parcelas"}],participantes:[],participante:{},columns:["nome","status","State","Phone","Fax"]}},methods:{onDispararEmailInformativo:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$nextTick(function(){var t=this,e=Object(p["confirm"])("<div style='margin-left:15px!important;margin-right:15px!important;'><p>Confirma o disparo de email?</p></div>"," Confirmação ");e.then(function(e){e&&t.dispararEmailInfo()})});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),dispararEmailInfo:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(Object(d["c"])(),e={at:"center center",of:"#bloco1"},this.lodash.has(this.evento,"id")){t.next=6;break}return a="Este evento ainda não foi gravado.",c()({message:a,position:e,width:300,shading:!0},"info",4e3),t.abrupt("return");case 6:C["a"].dispararEmailInformativo(this.evento).then(function(t){Object(d["c"])(),c()({message:"Email disparado com sucesso!",position:e,width:300,shading:!0},"success",3e3)}).catch(function(t){Object(d["c"])(),c()({message:t,position:e,width:300,shading:!0},"error",4e3)});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),numero:function(t){var e=q.format(t);return e},onReceberVisible:function(t){return!0},onExcluirVisible:function(t){return""===t.row.data.receberStatus},setFocus:function(){this.textBox.focus()},botaoReceberGrid:function(t){console.log("botao : ",t)},novoRegistro:function(){console.log("metodo novoRegistro ");var t={dInicio:null,dTermino:null,nome:"",siteEvento:null,siteDetalhes:"",siteExibir:null,siteParcelas:0,valorBase:0,valorBaseAVista:0,status:"",participantes:null,local:null,treinamento:null,treinamento_id:null,local_id:null,obs:null};this.participantes=[],this.evento=t},onSelectionGridChanged:function(t){this.selectedRowIndex=t.component.getRowIndexByKey(t.selectedRowKeys[0])},consultorCell:function(t){var e=t.consultor;return e?e.nome:""},pagarConsultorCell:function(t){return t.pagarConsultor?"SIM":"NÃO"},tipoNegociacaoCell:function(t){var e=t.tipoNegociacao_id,a="-";return this.tipoNegociacaoList.map(function(t){t.id===e&&(a=t.nome)}),a},treinamentoConcluidoCell:function(t){return t.treinamentoConcluido?"SIM":"NÃO"},onAddParticipante:function(){this.participante={consultor_id:null,evento_id:this.id,pessoa_id:null,status:"ATIVO",tipoNegociacao_id:null,valorBase:this.evento.valorBase,treinamentoConcluido:!1,parcelas:0,pagarConsultor:!1,percentConsultor:0,valorConsultor:0},this.editarParticipante=!1,this.popupVisible=!this.popupVisible},onParticipanteEditClick:function(t){console.log(t),console.log("editaar ",t.row.data);t.row.data.id;this.participante=_.cloneDeep(t.row.data),console.log("participate ID ",this.participante.id),console.log("participate valorBase ",this.participante.valorBase),this.$forceUpdate(),this.editarParticipante=!0,this.popupVisible=!this.popupVisible},onReceberEditClick:function(t){this.receber=_.cloneDeep(t.row.data.receber),this.receber?(t.row.data.receber.id,this.receber_id=this.receber.id,this.tituloContaReceber="<div style='padding: 5px;'><b>Cadastro de Contas a Receber</b></div>"):(this.receber_id=-1,this.tituloContaReceber="<div style='padding: 5px;'><b>Cadastro de Contas a Receber - (Criar conta)</b></div>"),this.participante=_.cloneDeep(t.row.data),this.limparItemsReceber=this.limparItemsReceber+1,this.popupReceberVisible=!this.popupReceberVisible},onParticipanteDeleteClick:function(t){var e=t.row.data.id;this.$nextTick(function(){var t=this,a=Object(p["confirm"])("<div style='margin-left:15px!important;margin-right:15px!important;'><p>Confirma exclusão do Aluno selecionado?</p></div>"," Confirmação ");a.then(function(a){if(console.log(a),!a)return!1;Object(d["c"])(),C["a"].deleteEventoParticipante(e).then(function(e){Object(d["c"])(),t.refreshParticipantes();var a="Excluído com sucesso",o={at:"center center",of:"#bloco1"};c()({message:a,position:o,width:300,shading:!0},"success",2e3)}).catch(function(t){if(Object(d["c"])(),_.isArray(t))t.forEach(function(t){var e={at:"center center",of:"#bloco1"};c()({message:t.message,position:e,width:300,shading:!0},"error",4e3)});else{var e={at:"center center",of:"#bloco1"};c()({message:t,position:e,width:300,shading:!0},"error",4e3)}})})})},preparar:function(){var t=_.cloneDeep(this.evento),e={dInicio:t.dInicio,dTermino:t.dTermino,local_id:t.local_id,nome:t.nome,obs:t.obs,siteDetalhes:t.siteDetalhes,siteEvento:t.siteEvento,siteExibir:t.siteExibir,siteParcelas:t.siteParcelas,status:t.status,siteLink:t.siteLink,treinamento_id:t.treinamento_id,valorBase:t.valorBase,emailBoasVindas:t.emailBoasVindas,emailBoasVindasTitulo:t.emailBoasVindasTitulo,emailInformativo:t.emailInformativo,emailInformativoTitulo:t.emailInformativoTitulo};return t.id&&(e.id=t.id),e},validate:function(t){console.log("validando... "),console.log(t);var e=t.validationGroup.validate();if(e.isValid){var a=this.preparar();_.has(a,"id")?this.updateEvento(a):this.addEvento(a)}else console.log("falhou na validação")},cancelar:function(){this.$router.push({name:"eventos"})},addEvento:function(t){var e=this;Object(d["c"])(),C["a"].addEvento(t).then(function(t){Object(d["c"])(),e.evento.id=t.id,e.id=t.id;var a={at:"center center",of:"#bloco1"};c()({message:"Gravado com sucesso.",position:a,width:300,shading:!0},"success",2e3),e.$router.push({path:"/evento/"+e.id,params:{id:e.id}})}).catch(function(t){Object(d["c"])(),window.errou=t,console.log(t);var e={at:"center center",of:"#bloco1"};c()({message:t,position:e,width:300,shading:!0},"error",4e3)})},updateEvento:function(t){var e=this;Object(d["c"])(),C["a"].updateEvento(t).then(function(t){Object(d["c"])();var a={at:"center center",of:"#bloco1"};c()({message:"Gravado com sucesso.",position:a,width:300,shading:!0},"success",2e3),e.cancelar()}).catch(function(t){window.errou=t,console.log(t),Object(d["c"])();var e={at:"center center",of:"#bloco1"};c()({message:t,position:e,width:300,shading:!0},"error",4e3)})},onAtualizarListaParticipantes:function(){this.refreshParticipantes()},refreshParticipantes:function(){var t=this;this.participante={},console.log("atualizar inscritos"),C["a"].getEventoParticipantes(this.evento.id).then(function(e){var a=e.data;a.map(function(e){e.pagarConsultor=1===parseInt(e.pagarConsultor),e.treinamentoConcluido=1===parseInt(e.treinamentoConcluido),t.lodash.isNull(e.receber)?e.receberStatus="":e.receberStatus=e.receber.statusDescription}),t.participantes=a}).catch(function(t){Object(d["c"])();var e={at:"center center",of:"#bloco1"};c()({message:"Ocorreu uma falha ao tentar carregar os participantes.",position:e,width:300,shading:!0},"error",4e3)})}},computed:{textBox:function(){return this.$refs[U].instance},grid:function(){return this.$refs[this.gridRefName].instance},screen:function(){var t=this.$store.getters["common/screen"];return t}},watch:{screen:function(t){t.isSmall||t.isXSmall?(this.isPopupMaxWidth="2000",this.isPopupMaxHeight="2000",this.popupFullScreen=!0):(this.popupFullScreen=!1,this.isPopupMaxWidth="900",this.isPopupMaxHeight="450")},id:function(t){this.tabParticipantesEnabled=parseInt(this.id)>0,this.tabs[2].disabled=this.tabParticipantesEnabled},"evento.treinamento_id":function(t){console.log("evento.treinamento ",t);var e=this.lodash.find(this.treinametoList,{id:t});t&&(this.evento.valorBase=e.valor,this.evento.valorBaseAVista=e.valorBaseAVista)}}},H=z,W=(a("ab14"),Object(A["a"])(H,i,s,!1,null,"72546462",null));e["default"]=W.exports},a888:function(t,e,a){},ab14:function(t,e,a){"use strict";var o=a("a888"),i=a.n(o);i.a},bcb8:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isTitle?a("h2",{staticClass:"content-block"},[t._v(t._s(t.titulo))]):t._e(),t.id?a("div",{staticClass:"right-id"},[t._v("ID # "+t._s(t.id))]):t._e(),a("div",{staticClass:"content-block"},[a("div",{staticClass:"dx-card responsive-paddings",attrs:{id:"bloco1"}},[a("div",{attrs:{id:"form-container"}},[a("form",{ref:"form",attrs:{action:"your-action"},on:{submit:function(e){return t.handleSubmit(e)}}},[a("dx-form",{attrs:{id:"form","read-only":!1,"col-count":1,"form-data":t.TipoNegociacao,"show-validation-summary":!0,"show-colon-after-label":!0,"on-content-ready":t.validateForm},on:{"update:formData":function(e){t.TipoNegociacao=e},"update:form-data":function(e){t.TipoNegociacao=e}}},[a("dx-item",{attrs:{items:t.groupedItems.dados,"item-type":"group",caption:""}})],1)],1),a("div",{staticStyle:{float:"left","margin-top":"20px"}},[a("dx-button",{staticStyle:{"margin-right":"10px"},attrs:{text:"Gravar",type:"success"},on:{click:t.gravar}}),a("dx-button",{attrs:{text:"Cancelar"},on:{click:t.cancelar}})],1)])])])])},i=[],s=(a("ac6a"),a("bc3a"),a("2919")),n=a("9fc8"),r=a("66dc"),l=(a("b8f5"),a("0db8")),c=a("a497"),d=a("a719"),p=a.n(d),u={components:{DxForm:r["DxForm"],DxItem:r["DxItem"],DxTagBox:r["DxTagBox"],DxButton:n["DxButton"],DxButtonItem:r["DxButtonItem"],DxNumberBox:r["DxNumberBox"],DxValidator:l["DxValidator"],DxRequiredRule:l["DxRequiredRule"],DxCompareRule:l["DxCompareRule"],DxEmailRule:l["DxEmailRule"],DxPatternRule:l["DxPatternRule"],DxStringLengthRule:l["DxStringLengthRule"],DxRangeRule:l["DxRangeRule"]},props:{id:{type:["String","Numeric"],default:void 0},isPopup:{type:Boolean,default:!1},isTitle:{type:Boolean,default:!0}},beforeRouteEnter:function(t,e,a){Object(s["c"])();var o=t.params.id;if(!o)return Object(s["c"])(),a();c["a"].getTipoNegociacao(o).then(function(t){a(function(e){return e.TipoNegociacao=t,!0}),Object(s["c"])()}).catch(function(t){Object(s["c"])(),a(!1)})},data:function(){var t=["ATIVO","INATIVO"];return{titulo:"Cadastro de Tipo de Negociação",TipoNegociacao:{},buttonOptions:{text:"Register",type:"success",useSubmitBehavior:!0},validationRules:{status:[{type:"required",message:"Informe o status"}],nome:[{type:"required",message:"Informe do Tipo de Negociacao"}]},groupedItems:{dados:[{dataField:"nome",label:{text:"Nome"},editorOptions:{format:"R$ #,##0.##"},validationRules:[{type:"required",message:"Informe o campo nome."}]},{dataField:"status",label:{text:"Status"},cssClass:"cssArea",editorType:"dxSelectBox",editorOptions:{hideSelectedItems:!0,searchEnabled:!0,items:t},validationRules:[{type:"required",message:"Informe o Status do Tipo de Negociação."}]}]}}},methods:{handleSubmit:function(t){t.preventDefault()},validateForm:function(t){this.formValidation=t;t.component.validate()},gravar:function(){var t=this,e=this.formValidation.component.validate().isValid;if(e){Object(s["c"])();var a=_.cloneDeep(this.TipoNegociacao);console.log("gravar ",a),_.has(a,"id")?c["a"].updateTipoNegociacao(a).then(function(e){Object(s["c"])();var a="Gravado com sucesso",o={at:"center center",of:"#bloco1"};p()({message:a,position:o,width:300,shading:!0},"success",1e3),t.cancelar()}).catch(function(t){if(Object(s["c"])(),_.isArray(t))t.forEach(function(t){var e={at:"center center",of:"#bloco1"};p()({message:t.message,position:e,width:300,shading:!0},"error",4e3)});else{var e={at:"center center",of:"#bloco1"};p()({message:t,position:e,width:300,shading:!0},"error",4e3)}}):c["a"].addTipoNegociacao(a).then(function(e){console.log(e),Object(s["c"])();var a="Gravado com sucesso",o={at:"center center",of:"#bloco1"};p()({message:a,position:o,width:300,shading:!0},"success",1e3),t.cancelar()}).catch(function(t){if(Object(s["c"])(),_.isArray(t))t.forEach(function(t){var e={at:"center center",of:"#bloco1"};p()({message:t.message,position:e,width:300,shading:!0},"error",4e3)});else{var e={at:"center center",of:"#bloco1"};p()({message:t,position:e,width:300,shading:!0},"error",4e3)}})}else console.log("não validado")},cancelar:function(){if(this.isPopup)return this.$emit("close",!1);this.$router.push({name:"tipoNegociacoes"})}}},m=u,x=(a("5039"),a("2877")),v=Object(x["a"])(m,o,i,!1,null,"31ec9b7e",null);e["default"]=v.exports},f3e4:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0e947f5c.0c3aaa07.js.map